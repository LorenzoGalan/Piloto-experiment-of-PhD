<!DOCTYPE html>
<html>
  <head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-C5WXLL1772"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-C5WXLL1772');
</script>

    <script src="https://unpkg.com/jspsych@7.3.4"></script>
    <script src="https://unpkg.com/@jspsych/plugin-preload@1.1.3"></script>
    <script src="https://unpkg.com/@jspsych/plugin-html-button-response@1.1.3"></script>
    <script src="https://unpkg.com/@jspsych/plugin-html-keyboard-response@1.1.3"></script>
    <script src="https://unpkg.com/@jspsych/plugin-image-keyboard-response@1.1.3"></script>
    <script src= "jspsych\plugin-instructions.js" ></script>
    <script src= "jspsych\plugin-video-keyboard-response.js"></script>
    <script src= jspsych\plugin-image-button-response.js ></script>
    <script src="https://unpkg.com/@jspsych-contrib/plugin-pipe"></script>
    <script src="jspsych\plugin-fullscreen.js"></script>
    <script src="jspsych\plugin-call-function.js"></script>
    <script src="jspsych\plugin-survey-multi-choice.js"></script>
    <script src="https://unpkg.com/jspsych@7.3.3"></script>
    <script src="https://unpkg.com/@jspsych/plugin-html-keyboard-response@1.1.2"></script>
    <script src="https://unpkg.com/@jspsych/plugin-survey-text@1.1.2"></script>
    <script src="https://unpkg.com/@jspsych-contrib/plugin-pipe@0.3"></script>
    <script src="https://unpkg.com/jspsych@7.3.4"></script>
    <script src="https://unpkg.com/@jspsych/plugin-preload@1.1.3"></script>
    <script src="https://unpkg.com/@jspsych/plugin-html-button-response@1.1.3"></script>
    <script src="https://unpkg.com/@jspsych/plugin-html-keyboard-response@1.1.3"></script>
    <script src="https://unpkg.com/@jspsych/plugin-image-keyboard-response@1.1.3"></script>

    <script src="https://unpkg.com/jspsych@7.3.3"></script>
    <script src="https://unpkg.com/@jspsych/plugin-html-keyboard-response@1.1.2"></script>
    <script src="https://unpkg.com/@jspsych/plugin-survey-text@1.1.2"></script>
    <script src="https://unpkg.com/@jspsych-contrib/plugin-pipe@0.3"></script>
    <script src="https://unpkg.com/@jspsych/plugin-survey-likert@1.1.3"></script>


    <link href="squared.css", rel="stylesheet" type="text/css"> 

    <link href="https://unpkg.com/jspsych@7.3.3/css/jspsych.css" rel="stylesheet" type="text/css" />
    
    <link
      rel="stylesheet"
      href="https://unpkg.com/jspsych@7.3.4/css/jspsych.css"
    />
    <style>

body {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
  }

      .jspsych-btn {
        margin-bottom: 10px;
      }

      #Iniciar {
            width: 150px;
            height: 50px;
            font-size: 18px;
        }

        .custom-label {
      color: white; /* Change this to the desired color */
      font-size: 17px;
    }
    
    </style>
    
    <meta charset="UTF-8">
    
  </head>

  <body> 
    <div id="container">
    <button id="Iniciar">Iniciar</button>
  </div>

  </body>
  <script> 

   /* SAQUÉ ESTAs LIBREARIAs <script src="https://unpkg.com/@jspsych/plugin-webgazer-init-camera@1.0.3">
    <script src="https://unpkg.com/@jspsych/plugin-webgazer-calibrate@1.0.3">
    <script src="https://cdn.jsdelivr.net/gh/jspsych/jspsych@jspsych@7.0.0/examples/js/webgazer/webgazer.js">
    <script src="https://unpkg.com/@jspsych/extension-webgazer@1.0.3">
    <script src="https://unpkg.com/@jspsych/plugin-webgazer-calibrate@1.0.3">
    <script src="https://unpkg.com/@jspsych/plugin-webgazer-validate@1.0.3">
    <script src="https://unpkg.com/@jspsych/extension-webgazer@1.0.3">
    */

document.getElementById('Iniciar').addEventListener('click', Iniciar);


function Iniciar() {

  function get_interaction_data() {
  return jsPsych.data.getInteractionData();
}

var jsPsych = initJsPsych({});;
var interaction_data = jsPsych.data.getInteractionData();


var start_time = new Date();
start_time.setHours(start_time.getHours() - 3);  // Resta 3 horas para Argentina 
var startTimeString = start_time.toISOString();

            var trial_inicio_1 = {
            type: jsPsychHtmlButtonResponse,
            stimulus: `
          <p>Hola bienvenido/a a esta investigación sobre atención, memoria y comprensión de video online.</p><br><p>Presione el botón para iniciar con las tareas.</p>`
          ,
          choices: ['Continuar'],
          data: {interaction_data: get_interaction_data()
    },
          on_finish: function(data) { 
            jsPsych.data.addProperties({ start_time: startTimeString });
		      data.grupo = "video";
	}
            };


            var aviso = {
            type: jsPsychHtmlButtonResponse,
            stimulus: `
          <p><strong> IMPORTANTE: </strong></p> <br> 
          <p style="text-align: left;">
            1) Debe estar en una computadora para realizar el estudio. <br> 
            2) Recuerde que su participación es anonima y voluntaria, en el caso de sentir incomodidad puede retirarse en cualquier momento.<br>
            3) En el caso que actualice la pestaña perderá el progreso, lo mismo ocurre si pierde su conexión a internet o tarde mucho tiempo en responder (diez minutos o más).<br>
            4) El estudio solo será valido si logra llegar hasta el final. <br>
            5) No salga del modo pantalla completa eso puede dificultarle responder algunas tareas.
            <br>
            </p>`
          ,
          choices: ['Comprendido'],
          data: {interaction_data: get_interaction_data()
    },
          on_finish: function(data) {
		      data.task = "instrucciones";
	}
            };

            var inicio = {
            type: jsPsychHtmlButtonResponse,
            stimulus: 
            `<p style="text-align: left;">
          <p> Al inicio vas a realizar unas tareas sobre atencion y memoria.Luego vas a ver un video, y al <strong>final</strong> vas a contestar preguntas sobre su contenido, tanto literal como lo que significa el video. En el <strong>medio</strong> del video también van a haber preguntas. Es importante que intentes comprender <strong>todo el contenido</strong>.Cuando hagas la tarea de comprensión no vas a poder volver al video.
            </p>`
          ,
          choices: ['Comprendido'],
          data: {interaction_data: get_interaction_data()
    },
          on_finish: function(data) {
		data.task = "instrucciones";
	}
    };

var practice_duration = 30000; // duration of practice
var main_duration = 90000; // duration of main task

//general variables for use throughout the experiment
var online; // Numeric: 0 indicating that task is being run locally, 1 indicating that the task is being run through a platform
var subject; // Subject ID
var total_stroop = 0; // track total Stroop score
var total_flanker = 0; // track total Flanker score
var total_simon = 0; // track total Simon score
var block_trial_count = 0;
var practice = 1; // Indicator of whether the trials being shown belong to the practice phase
var timeout = 0; // Indicator whether trial was responded to when the task timed out
var timeleft; // Placeholder for the amount of time left for the block
var block_time_limit; // Placeholder for the timelimit for the block
var end_timer; // Holder for timeout of task
var block_start; // Placeholder for time when block started
var stay = 1; // Indicator of whether participant has indicated that they still want to read the instructions

var items_stroop = Array.from(Array(16).keys()); // Array from 0-15
var items_flanker = Array.from(Array(16).keys()); // Array from 0-15
var items_simon = Array.from(Array(8).keys()); // Array from 0-7

// Function to countdown to 0
// setInterval is a built in function that calls the function in the first argument at the every time interval in ms specified in the second argument
function countdown(start, timelimit) {

	var timeleft_bar = document.getElementById("timeleft");
	var timeleft_width = (timelimit - (Date.now() - start))*100/timelimit;
	timeleft_bar.style.width = timeleft_width + "%";

	function shorten_timebar() {
		if (timeleft_width <= 0) {
			clearInterval(update_timeleft)
		} else {
			timeleft_width -= 10*100/timelimit // 10: time interval set in setInterval;
			timeleft_bar.style.width = timeleft_width + "%";
		}
	}

	var update_timeleft = setInterval(shorten_timebar, 10);
}

///////////////////////////////////////////
// INITIALIZE EXPERIMENT CONTEXT  /////////
///////////////////////////////////////////

// Initialize timeline
var timeline = [];

var enter_fullscreen = {
	type: jsPsychFullscreen,
	fullscreen_mode: true,
  on_finish: function(data) {
		data.task = "instrucciones";
	}
}

var get_participant_id = {
	type: jsPsychSurveyText,
	questions: [
		{prompt: 'Por favor ingrese su email (debe ser el email que tiene en el campus):', required: true, name: 'participant_id'}
	],
	on_finish: function(data) {
		jsPsych.data.addProperties({
			  participant_id: data.response.participant_id
		  })

		subject = data.response.participant_id;
	  }
}

// get_location: Introduces option to run program (and save files) locally or to run it online and collect data through a platform
// Comment out get_location object if implementing a default of running the task online

//SACO ESTO POR QUE NO NOS SIRVE

/*var get_location = {
	type: jsPsychSurveyMultiChoice,
	questions: [{
			prompt: "Where are you running the task?",
			name: "client",
			options: ["Online (cognition.run, gorilla.sc, MTurk link)", "Local (Lab computer files)"],
			required: true
		}],
	on_finish: function(data) {
		online = data.response.client == "Online (cognition.run, gorilla.sc, MTurk link)" ? 1 : 0;
	}
}*/

var welcome = {
	type: jsPsychHtmlButtonResponse,
	stimulus: "<p style='font-size:25px;'><b>Tareas de colores y flechas</b></p>" +
			  "<p style='font-size:25px;'>Haga click en COMENZAR para leer las instrucciones</p>",
	choices: ["Comenzar"],
  on_finish: function(data) {
		data.task = "instrucciones";
	}
}

//////////////////////////////////////////////
///////////////// STROOP /////////////////////
//////////////////////////////////////////////

// 1. Create object that has all the possible stimuli for the task (stimuli_stroop)
// 2. Create fixed random order of trials for practice and main phases of task (practice_stroop, main_stroop)
// 3. Create timeline objects
//		a. intro_stroop timeline
//			a1. instructions_stroop_1
//      	a2. prepare_practice_stroop
//      b. threetwoone countdown
//		c. block_stroop_practice -> practice trials
//      d. premain_stroop timeline
//			d1. instructions_stroop_2
//			d2. prepare_main_stroop
//		e. threetwoone countdown
//		f. block_main_stroop -> main task
//		g. conclusion_stroop -> reports final score to participant

// 1. Create object that has all the possible stimuli for the task (stimuli_stroop)
var stimuli_stroop = [

    {stim: "ROJO", stimcolor: "#ff0302", resp1: "AZUL", resp1color: "#0000FF", resp2: "ROJO", resp2color: "#ff0302", correct_response: 1, condition: 1},									
    {stim: "ROJO", stimcolor: "#ff0302", resp1: "ROJO", resp1color: "#ff0302", resp2: "AZUL", resp2color: "#0000FF", correct_response: 0, condition: 1},									
    {stim: "AZUL", stimcolor: "#0000FF", resp1: "AZUL", resp1color: "#0000FF", resp2: "ROJO", resp2color: "#ff0302", correct_response: 0, condition: 1},									
    {stim: "AZUL", stimcolor: "#0000FF", resp1: "ROJO", resp1color: "#ff0302", resp2: "AZUL", resp2color: "#0000FF", correct_response: 1, condition: 1},									
    {stim: "ROJO", stimcolor: "#ff0302", resp1: "ROJO", resp1color: "#0000FF", resp2: "AZUL", resp2color: "#ff0302", correct_response: 0, condition: 2},									
    {stim: "ROJO", stimcolor: "#ff0302", resp1: "AZUL", resp1color: "#ff0302", resp2: "ROJO", resp2color: "#0000FF", correct_response: 1, condition: 2},									
    {stim: "AZUL", stimcolor: "#0000FF", resp1: "ROJO", resp1color: "#0000FF", resp2: "AZUL", resp2color: "#ff0302", correct_response: 1, condition: 2},									
    {stim: "AZUL", stimcolor: "#0000FF", resp1: "AZUL", resp1color: "#ff0302", resp2: "ROJO", resp2color: "#0000FF", correct_response: 0, condition: 2},									
    {stim: "ROJO", stimcolor: "#0000FF", resp1: "AZUL", resp1color: "#0000FF", resp2: "ROJO", resp2color: "#ff0302", correct_response: 0, condition: 3},									
    {stim: "ROJO", stimcolor: "#0000FF", resp1: "ROJO", resp1color: "#ff0302", resp2: "AZUL", resp2color: "#0000FF", correct_response: 1, condition: 3},									
    {stim: "AZUL", stimcolor: "#ff0302", resp1: "AZUL", resp1color: "#0000FF", resp2: "ROJO", resp2color: "#ff0302", correct_response: 1, condition: 3},									
    {stim: "AZUL", stimcolor: "#ff0302", resp1: "ROJO", resp1color: "#ff0302", resp2: "AZUL", resp2color: "#0000FF", correct_response: 0, condition: 3},									
    {stim: "ROJO", stimcolor: "#0000FF", resp1: "ROJO", resp1color: "#0000FF", resp2: "AZUL", resp2color: "#ff0302", correct_response: 1, condition: 4},									
    {stim: "ROJO", stimcolor: "#0000FF", resp1: "AZUL", resp1color: "#ff0302", resp2: "ROJO", resp2color: "#0000FF", correct_response: 0, condition: 4},									
    {stim: "AZUL", stimcolor: "#ff0302", resp1: "ROJO", resp1color: "#0000FF", resp2: "AZUL", resp2color: "#ff0302", correct_response: 0, condition: 4},									
    {stim: "AZUL", stimcolor: "#ff0302", resp1: "AZUL", resp1color: "#ff0302", resp2: "ROJO", resp2color: "#0000FF", correct_response: 1, condition: 4} 
	]

// 2. Create fixed random order of trials for practice and main phases of task (practice_stroop, main_stroop)
var practice_stroop = jsPsych.randomization.sampleWithReplacement(items_stroop, 100);
var main_stroop = jsPsych.randomization.sampleWithReplacement(items_stroop, 500);

// 3a.1
var instructions_stroop_1 = {
	type: jsPsychHtmlButtonResponse,
	stimulus: `<p style='font-size: 15pt; text-align: left;'>Vea el COLOR de la palabra de arriba y seleccione ese COLOR entre las dos palabras de abajo.<br> 
				NO preste atención a lo que la palabra de arriba DICE ni al COLOR de las palabras de abajo.<br>
				Es importante que sea el mismo el COLOR de la palabra de arriba con el SIGNIFICADO de la palabra de abajo.<br>
				Tendrá treinta segundos para conseguir la mayor cantidad posible de puntos.<br> Vamos a comenzar con una ronda de práctica. 
				</p>
				<div style='height: 100px;'></div>
				<p style='font-size: 9pt;'>LA PALABRA ESTÁ EN COLOR AZUL</p>
				<span style='font-size: 54pt; font-weight: 1000; color: #0000FF;'>ROJO</span><p><br></p>
				<div><button class="choiceStyle" style="font-family: Open Sans; font-weight: 1000; color: #0000FF;"><div style="color: red; font-size: 34pt; font-weight: 200;">&#10008;</div>ROJO<div style="font-size: 9pt; color: white; font-weight: normal;">RESPUESTA INCORRECTA<br></div></button><div class="space"></div>
				<button class="choiceStyle" style="font-family: Open Sans; font-weight: 1000; color: #ff0302;"><div style="color: #1ED760; font-size: 34pt; font-weight: 200;">&#10004;</div>AZUL<div style="font-size: 9pt; color: white; font-weight: normal;">RESPUESTA CORRECTA<br></div></button></div>`,
	choices: ["Comenzar práctica"],
	button_html: `<div style='height: 70px;'></div><button class="defaultButton">%choice%</button>`,
	on_finish: function(data) {
		data.task = "instrucciones";
	}
}

// 3a.2
var prepare_practice_stroop = {
	type: jsPsychHtmlButtonResponse,
	stimulus: "<div style='font-size: 10pt; display: flex; align-items: center;'>Tiempo<div id = 'countdownbar' style = 'margin: 0px 25px;'><div id = 'timeleft'></div></div><div style='align-self: baseline;'>Puntaje<br><span style='font-size:27pt;'><b>" + total_stroop + "</b></span></div></div><div style='height: 150px;'></div>" +
				"<p style='font-size: 54pt; font-weight: 1000; color: black;'>_</p>" ,
	choices: [" Ver instrucciones", "Comenzar práctica"],
	button_html: `<div style='height: 70px;'></div><button class="defaultButton">%choice%</button>`,
  data: {interaction_data: get_interaction_data()
    },
	on_finish: function(data) {
		stay = data.response == 0 ? 1 : 0;
		data.task = "instrucciones";
		practice = 1;
	}
}

// 3a
var intro_stroop = {
	timeline: [instructions_stroop_1, prepare_practice_stroop],
	on_timeline_start: function() {
		stay = 1;
		timeout = 0;
	},
	loop_function: function() {
		return stay;
	},
	on_timeline_end: function() {
		stay = 1;
	}, data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "instrucciones";
	}
  
}

// 3b & 3e
var threetwoone = {
	timeline: [{
		type: jsPsychHtmlKeyboardResponse,
		stimulus: function() { return "<div style='font-size: 10pt; display: flex; align-items: center;'>Tiempo<div id = 'countdownbar' style = 'margin: 0px 25px;'><div id = 'timeleft'></div></div><div style='align-self: baseline;'>Puntaje<br><span style='font-size:27pt;'><b>0</b></span></div></div><div style='height: 89px;'></div>" +
					"<p style='font-size: 120pt; font-weight: 1000;'>" + jsPsych.timelineVariable("num") + "</p>" },
		choices: "NO_KEYS",
		trial_duration: 1000
	}],
	timeline_variables: [{num: 3}, {num: 2}, {num: 1}],
  data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "instrucciones";
	}
}

// 3d.1
var instructions_stroop_2 = {
	type: jsPsychHtmlButtonResponse,
	stimulus: `<p style='font-size: 15pt; text-align: left;'>Esta es la práctica.<br> 
				Por favor, revise las instrucciones una última vez. <br>
				Mira de qué color es la palabra de arriba.<br>
				Selecciona ese color de las dos opciones siguientes.<br>
				NO prestes atención a lo que dice la palabra superior ni al color de las dos opciones de abajo.<br>
				Es importante hacer coincidir el color de la palabra superior con el significado de la palabra inferior.<br>
				Tenés 90 segundos para hacer todos los puntos posibles.</p>
				<div style='height: 100px;'></div>
				<p style='font-size: 9pt;'>La palabra esta en color azul</p>
				<span style='font-size: 54pt; font-weight: 1000; color: #0000FF;'>ROJO</span><p><br></p>
				<div><button class="choiceStyle" style="font-family: Open Sans; font-weight: 1000; color: #0000FF;"><div style="color: red; font-size: 34pt; font-weight: 200;">&#10008;</div>ROJO<div style="font-size: 9pt; color: white; font-weight: normal;">RESPUESTA INCORRECTA<br>(el significado no coincide con el color de la palabra de arriba)</div></button><div class="space"></div>
				<button class="choiceStyle" style="font-family: Open Sans; font-weight: 1000; color: #ff0302;"><div style="color: #1ED760; font-size: 34pt; font-weight: 200;">&#10004;</div>AZUL<div style="font-size: 9pt; color: white; font-weight: normal;">RESPUESTA CORRECTA<br>(el significado coincide con el color de la palabra de arriba)
				</div></button></div>`,
	choices: ["Comprendido"],
	button_html: `<div style='height: 70px;'></div><button class="defaultButton">%choice%</button>`,
	on_finish: function(data) {
		data.task = "stroop";
	}
}

// 3d.2
var prepare_main_stroop = {
	type: jsPsychHtmlButtonResponse,
	stimulus: "<div style='font-size: 10pt; display: flex; align-items: center;'>Tiempo<div id = 'countdownbar' style = 'margin: 0px 25px;'><div id = 'timeleft'></div></div><div style='align-self: baseline;'>Puntaje<br><span style='font-size:27pt;'><b>" + total_stroop + "</b></span></div></div><div style='height: 150px;'></div>" +
				"<p style='font-size: 54pt; font-weight: 1000; color: black;'>_</p>",
	choices: ["Revisar instrucciones", "Empezar tarea"],
	button_html: `<div style='height: 70px;'></div><button class="defaultButton">%choice%</button>`,
  data: {interaction_data: get_interaction_data()
    },
	on_finish: function(data) {
		stay = data.response == 0 ? 1 : 0;
		data.task = "stroop";
		practice = 0;
		clearTimeout(end_timer);
	}
}

// 3d
var premain_stroop = {
	timeline: [instructions_stroop_2, prepare_main_stroop],
	on_timeline_start: function() {
		total_stroop = 0;
		timeout = 0;
	},
	loop_function: function() {
		return stay;
	},
	on_timeline_end: function() {
		stay = 1;
	},
  on_finish: function(data) {
		data.task = "instrucciones";
	}
  
}

// Function to create display stimulus + countdown bar
var display_stroop = function(stimulus) {
	var stim = stimuli_stroop[stimulus].stim;
	var stimcolor = stimuli_stroop[stimulus].stimcolor;

	return "<div style='font-size: 10pt; position: relative; left: 5%; display: flex; align-items: center;'>Tiempo<div id = 'countdownbar' style = 'margin: 0px 25px;'><div id = 'timeleft'></div></div><div style='align-self: baseline;'>Puntaje<br><span style='font-size:27pt;'><b>" + total_stroop + "</b></span></div></div><div style='height: 143px;'></div>" +
	"<span style='font-size: 54pt; font-weight: 1000; color: " + stimcolor + ";'>" + stim + "</span><p><br></p>"
}


// Function to create block of stroop trials
// 		- stroop: Array containing the indices of stimuli_stroop to be referenced as nth trials for that block
var createStroopBlock = function(stroop) {
	var trial_stroop = {
		type: jsPsychHtmlButtonResponse,
		stimulus: function() { return display_stroop(stroop[block_trial_count]); },
		choices: function() { return [stimuli_stroop[stroop[block_trial_count]].resp1, stimuli_stroop[stroop[block_trial_count]].resp2]; },
		button_html: function() {
			var resp1color = stimuli_stroop[stroop[block_trial_count]].resp1color;
			var resp2color = stimuli_stroop[stroop[block_trial_count]].resp2color;

			var choice1 = '<button class="choiceStyle" style="font-family: Open Sans; font-weight: 1000; color: ' + resp1color + ';"><div style="color: black; font-size: 34pt; font-weight: 200;">_</div>%choice%</button>'
			var choice2 = '<button class="choiceStyle" style="font-family: Open Sans; font-weight: 1000; color: ' + resp2color + ';"><div style="color: black; font-size: 34pt; font-weight: 200;">_</div>%choice%</button>'

			return [choice1, choice2];
		},
		margin_horizontal: '53px',
		on_start: function() {
			// Set up timer if it's the first trial
			if (block_trial_count == 0) {
				block_time_limit = practice == 1 ? practice_duration : main_duration;
				block_start = Date.now();

				end_timer = setTimeout(function() {

					block_trial_count = 0;
					timeout = 1;

					// console.log("Block timed out at this trial", block_trial_count, timeout); // Here to debug

					// this function is all you need to end the current timeline
					jsPsych.endCurrentTimeline();

				}, block_time_limit);
			}
		},
		on_load: function() {
			countdown(block_start, block_time_limit);
		},
		on_finish: function(data) {
			data.block_trial_count = timeout == 1 ? block_trial_count : block_trial_count + 1;
			data.task = "stroop";
			data.practice = practice;
			data.item = stroop[block_trial_count];
			data.stim = stimuli_stroop[stroop[block_trial_count]].stim;
			data.stimcolor = stimuli_stroop[stroop[block_trial_count]].stimcolor == "#0000FF" ? "azul" : "rojo";
			data.resp1 = stimuli_stroop[stroop[block_trial_count]].resp1;
			data.resp1color = stimuli_stroop[stroop[block_trial_count]].resp1color == "#0000FF" ? "azul" : "rojo";
			data.resp2 = stimuli_stroop[stroop[block_trial_count]].resp2;
			data.resp2color = stimuli_stroop[stroop[block_trial_count]].resp2color == "#0000FF" ? "azul" : "rojo",
			data.correct_response = stimuli_stroop[stroop[block_trial_count]].correct_response;
			data.condition = stimuli_stroop[stroop[block_trial_count]].condition;
			data.accuracy = data.response == stimuli_stroop[stroop[block_trial_count]].correct_response ? 1 : 0;
			data.timeout = timeout;

			switch(timeout) {
				case 0:
					total_stroop = data.accuracy == 1 ? total_stroop + 1 : total_stroop - 1;
					break;
				case 1:
					total_stroop = total_stroop;
					break;
			}

			data.score_after_trial = total_stroop;

			// console.log(data, block_time_limit - (Date.now()-block_start), (Date.now() - block_start)) // Here to debug
		}
	}

	var feedback_stroop = {
		type: jsPsychHtmlButtonResponse,
		stimulus: function() { return display_stroop(stroop[block_trial_count]); },
		choices: function() { return [stimuli_stroop[stroop[block_trial_count]].resp1, stimuli_stroop[stroop[block_trial_count]].resp2]; },
		button_html: function() {
			var resp1color = stimuli_stroop[stroop[block_trial_count]].resp1color;
			var resp2color = stimuli_stroop[stroop[block_trial_count]].resp2color;
			var resp = jsPsych.data.get().last(1).values()[0].response;
			var correct_response = jsPsych.data.get().last(1).values()[0].correct_response;

			switch (resp) {
				case 0:
					var feedback1 = correct_response == 0 ? '<div style="color: #1ED760; font-size: 34pt; font-weight: 200;">&#10004;</div>' : '<div style="color: red; font-size: 34pt; font-weight: 200;">&#10008;</div>';
					var feedback2 = '<div style="color: black; font-size: 34pt; font-weight: 200;">_</div>';
					break;
				case 1:
					var feedback1 = '<div style="color: black; font-size: 34pt; font-weight: 200;">_</div>';
					var feedback2 = correct_response == 1 ? '<div style="color: #1ED760; font-size: 34pt; font-weight: 200;">&#10004;</div>' : '<div style="color: red; font-size: 34pt; font-weight: 200;">&#10008;</div>';
					break;
			}

			var choice1 = '<button class="choiceStyle" style="font-family: Open Sans; font-weight: 1000; color: ' + resp1color + ';">' + feedback1 + '%choice%</button>'
			var choice2 = '<button class="choiceStyle" style="font-family: Open Sans; font-weight: 1000; color: ' + resp2color + ';">' + feedback2 + '%choice%</button>'

			return [choice1, choice2];
		},
		margin_horizontal: '53px',
		on_start: function() {
			block_trial_count++
		},
		on_load: function() {
			countdown(block_start, block_time_limit);

		},
		trial_duration: 500,
		response_ends_trial: false
	}

	var block_stroop = {
		timeline: [trial_stroop, feedback_stroop],
		loop_function: function() {
			return true;
		}
	}

	return block_stroop;
}

// 3c & 3f
block_stroop_practice = createStroopBlock(practice_stroop); // no se puede agregar on_finish
block_stroop_main = createStroopBlock(main_stroop);

// 3g
var conclusion_stroop = {
	type: jsPsychHtmlButtonResponse,
	stimulus: function() {return `<p>Lograste un total de ` + total_stroop + ` puntos. Buen trabajo!</p><p>Hace click en siguiente para continuar</p>`; },
	choices: ["Siguiente"],
	button_html: `<div style='height: 70px;'></div><button class="defaultButton">%choice%</button>`,
	on_start: function() {
		// Calculate the following metrics separately for practice trials and main trials, filtering out the trial where the block timed out:
		//     - score_final: final score of the participant at the end of the block
		//	   - meanrt_final: mean RT of all trials across the block (regardless of accuracy)
		//     - score_x: score of the participant for x condition calculated as correct - incorrect for trials in x condition, where x is as follows:
		//			1. fully congruent
		//			2. stim congruent resp incongruent
		//			3. stim incongruent resp congruent
		//          4. fully incongruent
		//	   - meanrt_x: mean RT of all trials for x condition (regardless of accuracy)

		jsPsych.data.get().filter({task: "stroop", practice: 1}).addToAll({
			score_final: jsPsych.data.get().filter({task: "stroop", practice: 1, timeout: 0}).last(1).values()[0].score_after_trial,
			meanrt_final: jsPsych.data.get().filter({task: "stroop", practice: 1, timeout: 0}).select("rt").mean(),
			score_1: jsPsych.data.get().filter({task: "stroop", practice: 1, condition: 1, accuracy: 1, timeout: 0}).select("accuracy").count() - jsPsych.data.get().filter({task: "stroop", practice: 1, condition: 1, accuracy: 0, timeout: 0}).select("accuracy").count(),
			meanrt_1: jsPsych.data.get().filter({task: "stroop", practice: 1, condition: 1, timeout: 0}).select("rt").mean(),
			score_2: jsPsych.data.get().filter({task: "stroop", practice: 1, condition: 2, accuracy: 1, timeout: 0}).select("accuracy").count() - jsPsych.data.get().filter({task: "stroop", practice: 1, condition: 2, accuracy: 0, timeout: 0}).select("accuracy").count(),
			meanrt_2: jsPsych.data.get().filter({task: "stroop", practice: 1, condition: 2, timeout: 0}).select("rt").mean(),
			score_3: jsPsych.data.get().filter({task: "stroop", practice: 1, condition: 3, accuracy: 1, timeout: 0}).select("accuracy").count() - jsPsych.data.get().filter({task: "stroop", practice: 1, condition: 3, accuracy: 0, timeout: 0}).select("accuracy").count(),
			meanrt_3: jsPsych.data.get().filter({task: "stroop", practice: 1, condition: 3, timeout: 0}).select("rt").mean(),
			score_4: jsPsych.data.get().filter({task: "stroop", practice: 1, condition: 4, accuracy: 1, timeout: 0}).select("accuracy").count() - jsPsych.data.get().filter({task: "stroop", practice: 1, condition: 4, accuracy: 0, timeout: 0}).select("accuracy").count(),
			meanrt_4: jsPsych.data.get().filter({task: "stroop", practice: 1, condition: 4, timeout: 0}).select("rt").mean()
		})

		jsPsych.data.get().filter({task: "stroop", practice: 0}).addToAll({
			score_final: jsPsych.data.get().filter({task: "stroop", practice: 0, timeout: 0}).last(1).values()[0].score_after_trial,
			meanrt_final: jsPsych.data.get().filter({task: "stroop", practice: 0, timeout: 0}).select("rt").mean(),
			score_1: jsPsych.data.get().filter({task: "stroop", practice: 0, condition: 1, accuracy: 1, timeout: 0}).select("accuracy").count() - jsPsych.data.get().filter({task: "stroop", practice: 0, condition: 1, accuracy: 0, timeout: 0}).select("accuracy").count(),
			meanrt_1: jsPsych.data.get().filter({task: "stroop", practice: 0, condition: 1, timeout: 0}).select("rt").mean(),
			score_2: jsPsych.data.get().filter({task: "stroop", practice: 0, condition: 2, accuracy: 1, timeout: 0}).select("accuracy").count() - jsPsych.data.get().filter({task: "stroop", practice: 0, condition: 2, accuracy: 0, timeout: 0}).select("accuracy").count(),
			meanrt_2: jsPsych.data.get().filter({task: "stroop", practice: 0, condition: 2, timeout: 0}).select("rt").mean(),
			score_3: jsPsych.data.get().filter({task: "stroop", practice: 0, condition: 3, accuracy: 1, timeout: 0}).select("accuracy").count() - jsPsych.data.get().filter({task: "stroop", practice: 0, condition: 3, accuracy: 0, timeout: 0}).select("accuracy").count(),
			meanrt_3: jsPsych.data.get().filter({task: "stroop", practice: 0, condition: 3, timeout: 0}).select("rt").mean(),
			score_4: jsPsych.data.get().filter({task: "stroop", practice: 0, condition: 4, accuracy: 1, timeout: 0}).select("accuracy").count() - jsPsych.data.get().filter({task: "stroop", practice: 0, condition: 4, accuracy: 0, timeout: 0}).select("accuracy").count(),
			meanrt_4: jsPsych.data.get().filter({task: "stroop", practice: 0, condition: 4, timeout: 0}).select("rt").mean()
		})

		if (online == 0) {
			var filename = "data_squared-stroop_" + subject + ".csv";
			jsPsych.data.get().filter({task: "stroop"}).localSave('csv', filename);
		}
		clearTimeout(end_timer);
	},
  on_finish: function(data) {
    data.task="conclusion"
  }
}

// Put timeline together
var stroop_task = { timeline: [intro_stroop, threetwoone, block_stroop_practice, premain_stroop, threetwoone, block_stroop_main, conclusion_stroop] };

///////////////////////////////////////////////
///////////////// FLANKER /////////////////////
///////////////////////////////////////////////

// 1. Create object that has all the possible stimuli for the task (stimuli_flanker)
// 2. Create fixed random order of trials for practice and main phases of task (practice_flanker, main_flanker)
// 3. Create timeline objects
//		a. intro_flanker timeline
//			a1. instructions_flanker_1
//      	a2. prepare_practice_flanker
//      b. threetwoone countdown
//		c. block_flanker_practice -> practice trials
//      d. premain_flanker timeline
//			d1. instructions_flanker_2
//			d2. prepare_main_flanker
//		e. threetwoone countdown
//		f. block_main_flanker -> main task
//		g. conclusion_flanker -> reports final score to participant

// Possible stimuli
// 	  - ar:     all right
//    - al:     all left
//    - mr_fl:  mid right, flankers left
//	  - ml_fr:  mid left, flankers right

const ar = "ar.PNG";
const al = "al.PNG";
const mr_fl = "mr_fl.PNG";
const ml_fr = "ml_fr.PNG";

// 1. Create object that has all the possible stimuli for the task (stimuli_flanker)
var stimuli_flanker = [
	{stim: al, stimsign: "<<<<<", resp1: ar, resp1sign: ">>>>>", resp2: al, resp2sign: "<<<<<", correct_response: 1, condition: 1},
	{stim: al, stimsign: "<<<<<", resp1: al, resp1sign: "<<<<<", resp2: ar, resp2sign: ">>>>>", correct_response: 0, condition: 1},
	{stim: ar, stimsign: ">>>>>", resp1: ar, resp1sign: ">>>>>", resp2: al, resp2sign: "<<<<<", correct_response: 0, condition: 1},
	{stim: ar, stimsign: ">>>>>", resp1: al, resp1sign: "<<<<<", resp2: ar, resp2sign: ">>>>>", correct_response: 1, condition: 1},
	{stim: al, stimsign: "<<<<<", resp1: ml_fr, resp1sign: ">><>>", resp2: mr_fl, resp2sign: "<<><<", correct_response: 0, condition: 2},
	{stim: al, stimsign: "<<<<<", resp1: mr_fl, resp1sign: "<<><<", resp2: ml_fr, resp2sign: ">><>>", correct_response: 1, condition: 2},
	{stim: ar, stimsign: ">>>>>", resp1: ml_fr, resp1sign: ">><>>", resp2: mr_fl, resp2sign: "<<><<", correct_response: 1, condition: 2},
	{stim: ar, stimsign: ">>>>>", resp1: mr_fl, resp1sign: "<<><<", resp2: ml_fr, resp2sign: ">><>>", correct_response: 0, condition: 2},
	{stim: mr_fl, stimsign: "<<><<", resp1: al, resp1sign: "<<<<<", resp2: ar, resp2sign: ">>>>>", correct_response: 0, condition: 3},
	{stim: mr_fl, stimsign: "<<><<", resp1: ar, resp1sign: ">>>>>", resp2: al, resp2sign: "<<<<<", correct_response: 1, condition: 3},
	{stim: ml_fr, stimsign: ">><>>", resp1: al, resp1sign: "<<<<<", resp2: ar, resp2sign: ">>>>>", correct_response: 1, condition: 3},
	{stim: ml_fr, stimsign: ">><>>", resp1: ar, resp1sign: ">>>>>", resp2: al, resp2sign: "<<<<<", correct_response: 0, condition: 3},
	{stim: mr_fl, stimsign: "<<><<", resp1: mr_fl, resp1sign: "<<><<", resp2: ml_fr, resp2sign: ">><>>", correct_response: 1, condition: 4},
	{stim: mr_fl, stimsign: "<<><<", resp1: ml_fr, resp1sign: ">><>>", resp2: mr_fl, resp2sign: "<<><<", correct_response: 0, condition: 4},
	{stim: ml_fr, stimsign: ">><>>", resp1: mr_fl, resp1sign: "<<><<", resp2: ml_fr, resp2sign: ">><>>", correct_response: 0, condition: 4},
	{stim: ml_fr, stimsign: ">><>>", resp1: ml_fr, resp1sign: ">><>>", resp2: mr_fl, resp2sign: "<<><<", correct_response: 1, condition: 4}
]

// 2. Create fixed random order of trials for practice and main phases of task (practice_flanker, main_flanker)
var practice_flanker = jsPsych.randomization.sampleWithReplacement(items_flanker, 100);
var main_flanker = jsPsych.randomization.sampleWithReplacement(items_flanker, 500);


// 3a.1
var instructions_flanker_1 = {
	type: jsPsychHtmlButtonResponse,
	stimulus: `<p style='font-size: 15pt; text-align: left;'>En cada conjunto de flechas hay una flecha en el centro y dos a sus costados. <br>
				Vea la dirección hacia donde apuntan las flechas de los costados en el conjunto de arriba. <br> 
				Entre las opciones de abajo, seleccione la que tiene la flecha del MEDIO apuntando en esa dirección.<br> NO preste atención a la dirección de la flecha del MEDIO del conjunto de arriba o a la dirección de las flechas de los costados de las opciones de abajo.<br> 
				Es importante que la dirección de las flechas de los costados del conjunto de arriba sea la misma que la dirección de la flecha del MEDIO de las opciones de abajo.<br>
				Tenés 30 segundos para logar la mayor cantidad de puntos posibles.</p>
				<div style='height: 75px;'></div>
				<span style='font-size: 9pt;'>LAS FLECHAS EXTERIORES APUNTAN A LA IZQUIERDA</span><br>
				<img src='` + mr_fl + `' width='290'><p><br></p>
				<div><button class="choiceStyle" style="font-family: Open Sans;"><div style="color: red; font-size: 34pt; font-weight: 200;">&#10008;</div><img src='` + mr_fl + `' width='290'><div style="font-size: 9pt; color: white; font-weight: normal;">RESPUESTA INCORRECTA<br></div></button><div class="space"></div>
				<button class="choiceStyle" style="font-family: Open Sans;"><div style="color: #1ED760; font-size: 34pt; font-weight: 200;">&#10004;</div><img src='` + ml_fr + `' width='290'><div style="font-size: 9pt; color: white; font-weight: normal;">RESPUESTA CORRECTA<br></div></button></div>`,
	choices: ["Comenzar práctica"],
	button_html: `<div style='height: 70px;'></div><button class="defaultButton">%choice%</button>`,
	on_finish: function(data) {
		data.task = "flanker";
	}
}

// 3a.2
var prepare_practice_flanker = {
	type: jsPsychHtmlButtonResponse,
	stimulus: "<div style='font-size: 10pt; display: flex; align-items: center;'>Tiempo<div id = 'countdownbar' style = 'margin: 0px 25px;'><div id = 'timeleft'></div></div><div style='align-self: baseline;'>Puntaje<br><span style='font-size:27pt;'><b>" + total_flanker + "</b></span></div></div><div style='height: 150px;'></div>" +
				"<p style='font-size: 54pt; font-weight: 1000; color: black;'>_</p>",
	choices: ["Revisar intrucciones", "Comenzar práctica"],
	button_html: `<div style='height: 70px;'></div><button class="defaultButton">%choice%</button>`,
	on_finish: function(data) {
		stay = data.response == 0 ? 1 : 0;
		data.task = "flanker";
		practice = 1;
	}
}

// 3a
var intro_flanker = {
	timeline: [instructions_flanker_1, prepare_practice_flanker],
	on_timeline_start: function() {
		stay = 1;
		timeout = 0;
	},
	loop_function: function() {
		return stay;
	},
	on_timeline_end: function() {
		stay = 1;
	},
  data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "instrucciones";
	}
  
}

// 3d.1
var instructions_flanker_2 = {
	type: jsPsychHtmlButtonResponse,
	stimulus: `<p style='font-size: 15pt; text-align: left;'>Repasa las instrucciones una última vez.<br>
				Recordá mirar en qué dirección apuntan las flechas del costado.NO preste atención a la dirección <br>
				de la flecha del medio.<br>
				Es importante hacer coincidir la dirección de la flecha de costado con la dirección de la flecha del medio <br>
				en las figuras de abajo.<br> 
				Tenés 90 segundos para hacer todos los puntos posibles.</p>
				<div style='height: 75px;'></div>
				<span style='font-size: 9pt;'>LAS FLECHAS DEL COSTADO APUNTAN A LA IZQUIERDA</span><br>
				<img src='` + mr_fl + `' width='290'><p><br></p>
				<div><button class="choiceStyle" style="font-family: Open Sans;"><div style="color: red; font-size: 34pt; font-weight: 200;">&#10008;</div><img src='` + mr_fl + `' width='290'><div style="font-size: 9pt; color: white; font-weight: normal;">RESPUESTA INCORRECTA<br></div></button><div class="space"></div>
				<button class="choiceStyle" style="font-family: Open Sans;"><div style="color: #1ED760; font-size: 34pt; font-weight: 200;">&#10004;</div><img src='` + ml_fr + `' width='290'><div style="font-size: 9pt; color: white; font-weight: normal;">RESPUESTAS CORRECTA<br></div></button></div>`,
	choices: ["Comprendido"],
	button_html: `<div style='height: 70px;'></div><button class="defaultButton">%choice%</button>`,
	on_finish: function(data) {
		data.task = "instrucciones";
	}
}

// 3d.2
var prepare_main_flanker = {
	type: jsPsychHtmlButtonResponse,
	stimulus: "<div style='font-size: 10pt; display: flex; align-items: center;'>Tiempo<div id = 'countdownbar' style = 'margin: 0px 25px;'><div id = 'timeleft'></div></div><div style='align-self: baseline;'>Puntaje<br><span style='font-size:27pt;'><b>" + total_flanker + "</b></span></div></div><div style='height: 150px;'></div>" +
				"<p style='font-size: 54pt; font-weight: 1000; color: black;'>_</p>",
	choices: [" Ver instrucciones", "Comenzar la práctica"],
	button_html: `<div style='height: 70px;'></div><button class="defaultButton">%choice%</button>`,
	on_finish: function(data) {
		stay = data.response == 0 ? 1 : 0;
		data.task = "flanker";
		practice = 0;
		clearTimeout(end_timer);
	}
}

// 3d
var premain_flanker = {
	timeline: [instructions_flanker_2, prepare_main_flanker],
	on_timeline_start: function() {
		total_flanker = 0;
		timeout = 0;
	},
	loop_function: function() {
		return stay;
	},
	on_timeline_end: function() {
		stay = 1;
	},data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data){
    data.task="instrucciones"
  }
}

// Function to create display stimulus + countdown bar
var display_flanker = function(stimulus) {
	var stim = stimuli_flanker[stimulus].stim;

	return "<div style='font-size: 10pt; position: relative; left: 5%; display: flex; align-items: center;'>Tiempo<div id = 'countdownbar' style = 'margin: 0px 25px;'><div id = 'timeleft'></div></div><div style='align-self: baseline;'>Puntaje<br><span style='font-size:27pt;'><b>" + total_flanker + "</b></span></div></div><div style='height: 130px;'></div>" +
	"<img src='" + stim + "' width='290'><p><br></p>"
}


// Function to create block of flanker trials
// 		- flanker: Array containing the indices of stimuli_flanker to be referenced as nth trials for that block
var createFlankerBlock = function(flanker) {
	var trial_flanker = {
		type: jsPsychHtmlButtonResponse,
		stimulus: function() { return display_flanker(flanker[block_trial_count]); },
		choices: function() { return [stimuli_flanker[flanker[block_trial_count]].resp1, stimuli_flanker[flanker[block_trial_count]].resp2]; },
		button_html: function() {
			var choice1 = '<button class="choiceStyle" style="font-family: Open Sans; font-weight: 1000;"><div style="color: black; font-size: 34pt; font-weight: 200;">_</div><img src=%choice% width="290"></button>'
			var choice2 = '<button class="choiceStyle" style="font-family: Open Sans; font-weight: 1000;"><div style="color: black; font-size: 34pt; font-weight: 200;">_</div><img src=%choice% width="290"></button>'

			return [choice1, choice2];
		},
		margin_horizontal: '53px',
		on_start: function() {
			// Set up timer if it's the first trial
			if (block_trial_count == 0) {
				block_time_limit = practice == 1 ? practice_duration : main_duration;
				block_start = Date.now();

				end_timer = setTimeout(function() {

					block_trial_count = 0;
					timeout = 1;

					// console.log("Block timed out at this trial", block_trial_count, timeout); // Here to debug

					// this function is all you need to end the current timeline
					jsPsych.endCurrentTimeline();

				}, block_time_limit);
			}
		},
		on_load: function() {
			countdown(block_start, block_time_limit);
		},
		on_finish: function(data) {
			data.block_trial_count = timeout == 1 ? block_trial_count : block_trial_count + 1;
			data.task = "flanker";
			data.practice = practice;
			data.item = flanker[block_trial_count];
			data.stim = stimuli_flanker[flanker[block_trial_count]].stimsign;
			data.resp1 = stimuli_flanker[flanker[block_trial_count]].resp1sign;
			data.resp2 = stimuli_flanker[flanker[block_trial_count]].resp2sign;
			data.correct_response = stimuli_flanker[flanker[block_trial_count]].correct_response;
			data.condition = stimuli_flanker[flanker[block_trial_count]].condition;
			data.accuracy = data.response == stimuli_flanker[flanker[block_trial_count]].correct_response ? 1 : 0;
			data.timeout = timeout;

			switch(timeout) {
				case 0:
					total_flanker = data.accuracy == 1 ? total_flanker + 1 : total_flanker - 1;
					break;
				case 1:
					total_flanker = total_flanker;
					break;
			}

			data.score_after_trial = total_flanker;

			// console.log(data, block_time_limit - (Date.now()-block_start), (Date.now() - block_start)) // Here to debug
		}
	}

	var feedback_flanker = {
		type: jsPsychHtmlButtonResponse,
		stimulus: function() { return display_flanker(flanker[block_trial_count]); },
		choices: function() { return [stimuli_flanker[flanker[block_trial_count]].resp1, stimuli_flanker[flanker[block_trial_count]].resp2]; },
		button_html: function() {
			var resp = jsPsych.data.get().last(1).values()[0].response;
			var correct_response = jsPsych.data.get().last(1).values()[0].correct_response;

			switch (resp) {
				case 0:
					var feedback1 = correct_response == 0 ? '<div style="color: #1ED760; font-size: 34pt; font-weight: 200;">&#10004;</div>' : '<div style="color: red; font-size: 34pt; font-weight: 200;">&#10008;</div>';
					var feedback2 = '<div style="color: black; font-size: 34pt; font-weight: 200;">_</div>';
					break;
				case 1:
					var feedback1 = '<div style="color: black; font-size: 34pt; font-weight: 200;">_</div>';
					var feedback2 = correct_response == 1 ? '<div style="color: #1ED760; font-size: 34pt; font-weight: 200;">&#10004;</div>' : '<div style="color: red; font-size: 34pt; font-weight: 200;">&#10008;</div>';
					break;
			}

			var choice1 = '<button class="choiceStyle" style="font-family: Open Sans; font-weight: 1000; color: #0000FF;">' + feedback1 + '<img src=%choice% width="290"></button>'
			var choice2 = '<button class="choiceStyle" style="font-family: Open Sans; font-weight: 1000; color: #0000FF;">' + feedback2 + '<img src=%choice% width="290"></button>'

			return [choice1, choice2];
		},
		margin_horizontal: '53px',
		on_start: function() {
			block_trial_count++
		},
		on_load: function() {
			countdown(block_start, block_time_limit);
		},
		trial_duration: 500,
		response_ends_trial: false
	}

	var block_flanker = {
		timeline: [trial_flanker, feedback_flanker],
		loop_function: function() {
			return true;
		}
	}

	return block_flanker;
}

// 3c & 3f
block_flanker_practice = createFlankerBlock(practice_flanker);
block_flanker_main = createFlankerBlock(main_flanker);

// 3g
var conclusion_flanker = {
	type: jsPsychHtmlButtonResponse,
	stimulus: function() {return `<p>Lograste un total de ` + total_flanker + ` puntos en la tarea. Gran trabajo!</p><p>Hace click en siguiente para continuar</p>`; },
	choices: ["Siguiente"],
	button_html: `<div style='height: 70px;'></div><button class="defaultButton">%choice%</button>`,
	on_start: function() {
		// Calculate the following metrics separately for practice trials and main trials, filtering out the trial where the block timed out:
		//     - score_final: final score of the participant at the end of the block
		//	   - meanrt_final: mean RT of all trials across the block (regardless of accuracy)
		//     - score_x: score of the participant for x condition calculated as correct - incorrect for trials in x condition, where x is as follows:
		//			1. fully congruent
		//			2. stim congruent resp incongruent
		//			3. stim incongruent resp congruent
		//          4. fully incongruent
		//	   - meanrt_x: mean RT of all trials for x condition (regardless of accuracy)

		jsPsych.data.get().filter({task: "flanker", practice: 1}).addToAll({
			score_final: jsPsych.data.get().filter({task: "flanker", practice: 1, timeout: 0}).last(1).values()[0].score_after_trial,
			meanrt_final: jsPsych.data.get().filter({task: "flanker", practice: 1, timeout: 0}).select("rt").mean(),
			score_1: jsPsych.data.get().filter({task: "flanker", practice: 1, condition: 1, accuracy: 1, timeout: 0}).select("accuracy").count() - jsPsych.data.get().filter({task: "flanker", practice: 1, condition: 1, accuracy: 0, timeout: 0}).select("accuracy").count(),
			meanrt_1: jsPsych.data.get().filter({task: "flanker", practice: 1, condition: 1, timeout: 0}).select("rt").mean(),
			score_2: jsPsych.data.get().filter({task: "flanker", practice: 1, condition: 2, accuracy: 1, timeout: 0}).select("accuracy").count() - jsPsych.data.get().filter({task: "flanker", practice: 1, condition: 2, accuracy: 0, timeout: 0}).select("accuracy").count(),
			meanrt_2: jsPsych.data.get().filter({task: "flanker", practice: 1, condition: 2, timeout: 0}).select("rt").mean(),
			score_3: jsPsych.data.get().filter({task: "flanker", practice: 1, condition: 3, accuracy: 1, timeout: 0}).select("accuracy").count() - jsPsych.data.get().filter({task: "flanker", practice: 1, condition: 3, accuracy: 0, timeout: 0}).select("accuracy").count(),
			meanrt_3: jsPsych.data.get().filter({task: "flanker", practice: 1, condition: 3, timeout: 0}).select("rt").mean(),
			score_4: jsPsych.data.get().filter({task: "flanker", practice: 1, condition: 4, accuracy: 1, timeout: 0}).select("accuracy").count() - jsPsych.data.get().filter({task: "flanker", practice: 1, condition: 4, accuracy: 0, timeout: 0}).select("accuracy").count(),
			meanrt_4: jsPsych.data.get().filter({task: "flanker", practice: 1, condition: 4, timeout: 0}).select("rt").mean()
		})

		jsPsych.data.get().filter({task: "flanker", practice: 0}).addToAll({
			score_final: jsPsych.data.get().filter({task: "flanker", practice: 0, timeout: 0}).last(1).values()[0].score_after_trial,
			meanrt_final: jsPsych.data.get().filter({task: "flanker", practice: 0, timeout: 0}).select("rt").mean(),
			score_1: jsPsych.data.get().filter({task: "flanker", practice: 0, condition: 1, accuracy: 1, timeout: 0}).select("accuracy").count() - jsPsych.data.get().filter({task: "flanker", practice: 0, condition: 1, accuracy: 0, timeout: 0}).select("accuracy").count(),
			meanrt_1: jsPsych.data.get().filter({task: "flanker", practice: 0, condition: 1, timeout: 0}).select("rt").mean(),
			score_2: jsPsych.data.get().filter({task: "flanker", practice: 0, condition: 2, accuracy: 1, timeout: 0}).select("accuracy").count() - jsPsych.data.get().filter({task: "flanker", practice: 0, condition: 2, accuracy: 0, timeout: 0}).select("accuracy").count(),
			meanrt_2: jsPsych.data.get().filter({task: "flanker", practice: 0, condition: 2, timeout: 0}).select("rt").mean(),
			score_3: jsPsych.data.get().filter({task: "flanker", practice: 0, condition: 3, accuracy: 1, timeout: 0}).select("accuracy").count() - jsPsych.data.get().filter({task: "flanker", practice: 0, condition: 3, accuracy: 0, timeout: 0}).select("accuracy").count(),
			meanrt_3: jsPsych.data.get().filter({task: "flanker", practice: 0, condition: 3, timeout: 0}).select("rt").mean(),
			score_4: jsPsych.data.get().filter({task: "flanker", practice: 0, condition: 4, accuracy: 1, timeout: 0}).select("accuracy").count() - jsPsych.data.get().filter({task: "flanker", practice: 0, condition: 4, accuracy: 0, timeout: 0}).select("accuracy").count(),
			meanrt_4: jsPsych.data.get().filter({task: "flanker", practice: 0, condition: 4, timeout: 0}).select("rt").mean()
		})

		if (online == 0) {
			var filename = "data_squared-flanker_" + subject + ".csv";
			jsPsych.data.get().filter({task: "flanker"}).localSave('csv', filename);
		}
		clearTimeout(end_timer);
	}, on_finish: function(data) {
    data.task="conclusion";}
}

// Put timeline together
var flanker_task = {timeline: [intro_flanker, threetwoone, block_flanker_practice, premain_flanker, threetwoone, block_flanker_main, conclusion_flanker]};

///////////////////////////////////////////////
///////////////// SIMON /////////////////////
///////////////////////////////////////////////

// 1. Create object that has all the possible stimuli for the task (stimuli_simon)
// 2. Create fixed random order of trials for practice and main phases of task (practice_simon, main_simon)
// 3. Create timeline objects
//		a. intro_simon timeline
//			a1. instructions_simon_1
//      	a2. prepare_practice_simon
//      b. threetwoone countdown
//		c. block_simon_practice -> practice trials
//      d. premain_simon timeline
//			d1. instructions_simon_2
//			d2. prepare_main_simon
//		e. threetwoone countdown
//		f. block_main_simon -> main task
//		g. conclusion_simon -> reports final score to participant

const rarr = "rarr.PNG";
const larr = "larr.PNG";

// 1. Create object that has all the possible stimuli for the task (stimuli_simon)
var stimuli_simon = [
	{stim: larr, stimsign: "<", loc: "left", resp1: "IZQUIERDA", resp2: "DERECHA", correct_response: 0, condition: 1},
	{stim: rarr, stimsign: ">", loc: "right", resp1: "IZQUIERDA", resp2: "DERECHA", correct_response: 1, condition: 1},
	{stim: larr, stimsign: "<", loc: "left", resp1: "DERECHA", resp2: "IZQUIERDA", correct_response: 1, condition: 2},
	{stim: rarr, stimsign: ">", loc: "right", resp1: "DERECHA", resp2: "IZQUIERDA", correct_response: 0, condition: 2},
	{stim: larr, stimsign: "<", loc: "right", resp1: "IZQUIERDA", resp2: "DERECHA", correct_response: 0, condition: 3},
	{stim: rarr, stimsign: ">", loc: "left", resp1: "IZQUIERDA", resp2: "DERECHA", correct_response: 1, condition: 3},
	{stim: larr, stimsign: "<", loc: "right", resp1: "DERECHA", resp2: "IZQUIERDA", correct_response: 1, condition: 4},
	{stim: rarr, stimsign: ">", loc: "left", resp1: "DERECHA", resp2: "IZQUIERDA", correct_response: 0, condition: 4}
]

// 2. Create fixed random order of trials for practice and main phases of task (practice_simon, main_simon)
var practice_simon = jsPsych.randomization.sampleWithReplacement(items_simon, 100);
var main_simon = jsPsych.randomization.sampleWithReplacement(items_simon, 500);

// 3a.1
var instructions_simon_1 = {
	type: jsPsychHtmlButtonResponse,
	stimulus: `<p style='font-size: 15pt; text-align: left;'>Va a aparecer una flecha debajo, a la derecha o a la izquierda. <br>
				Debe presionar la opción de respuesta que diga hacia donde apunta la flecha.<br>
				Tenés 30 segundos para hacer la mayor cantidad de puntos posibles.</p>
				<div style='height: 100px;'></div>
				<span style='font-size: 9pt; text-align: left;'>LA FLECHA APUNTA A LA IZQUIERDA </span><br>
				<span style='display: flex; justify-content: left;'><img src='` + larr + `' height='70'></span><p></p>
				<div style='height: 50px;'></div>
				<div><button class="choiceStyle" style="font-family: Open SANS; color: white; font-weight: 1000;"><div style="color: red; font-size: 34pt; font-weight: 200;">&#10008;</div>DERECHA<div style="font-size: 9pt; color: white; font-weight: normal;">RESPUESTA INCORRECTA<br></div></button><div class="space"></div>
				<button class="choiceStyle" style="font-family: Open Sans; color: white; font-weight: 1000;"><div style="color: #1ED760; font-size: 34pt; font-weight: 200;">&#10004;</div>IZQUIERDA<div style="font-size: 9pt; color: white; font-weight: normal;">RESPUESTA CORRECTA<br></div></button></div>`,
	choices: ["Comenzar"],
	button_html: `<div style='height: 70px;'></div><button class="defaultButton">%choice%</button>`,
	on_finish: function(data) {
		data.task = "simon";
	}
}

// 3a.2
var prepare_practice_simon = {
	type: jsPsychHtmlButtonResponse,
	stimulus: "<div style='font-size: 10pt; display: flex; align-items: center;'>Tiempo<div id = 'countdownbar' style = 'margin: 0px 25px;'><div id = 'timeleft'></div></div><div style='align-self: baseline;'>Puntaje<br><span style='font-size:27pt;'><b>" + total_simon + "</b></span></div></div><div style='height: 150px;'></div>" +
				"<p style='font-size: 54pt; font-weight: 1000; color: black;'>_</p>",
	choices: [" Ver instrucciones", "Comenzar la práctica"],
	button_html: `<div style='height: 70px;'></div><button class="defaultButton">%choice%</button>`,
	on_finish: function(data) {
		stay = data.response == 0 ? 1 : 0;
		data.task = "simon";
		practice = 1;
	}
}

// 3a
var intro_simon = {
	timeline: [instructions_simon_1, prepare_practice_simon],
	on_timeline_start: function() {
		stay = 1;
		timeout = 0;
	},
	loop_function: function() {
		return stay;
	},
	on_timeline_end: function() {
		stay = 1;
	},
  data: {interaction_data: get_interaction_data()
    },
  on_finish:function(data){
    data.task="instrucciones"
  }
}

// 3d.1
var instructions_simon_2 = {
	type: jsPsychHtmlButtonResponse,
	stimulus: `<p style='font-size: 15pt; text-align: left;'> Revise las instrucciones por última vez. <br> 
				Recordá que abajo aparecerán flechas a la derecha o a la izquierda.<br>
				Debes hacer click en la opción de respuesta que dice en qué dirección apunta la flecha. <br> 
				Tienes 90 segundos para ganar tantos puntos como sea posible.</p>
				<div style='height: 75px;'></div>
				<span style='font-size: 9pt; text-align: left;'>LA FLECHA APUNTA A LA IZQUIERDA</span><br>
				<span style='display: flex; justify-content: left;'><img src='` + larr + `' height='70'></span><p></p>
				<div style='height: 50px;'></div>
				<div><button class="choiceStyle" style="font-family: Open SANS; color: white; font-weight: 1000;"><div style="color: red; font-size: 34pt; font-weight: 200;">&#10008;</div>DERECHA<div style="font-size: 9pt; color: white; font-weight: normal;">RESPUESTA INCORRECTA<br>(El significado no coincide con la dirección de la flecha)</div></button><div class="space"></div>
				<button class="choiceStyle" style="font-family: Open Sans; color: white; font-weight: 1000;"><div style="color: #1ED760; font-size: 34pt; font-weight: 200;">&#10004;</div>IZQUIERDA<div style="font-size: 9pt; color: white; font-weight: normal;">RESPUESTA CORRECTA<br>(El significado coincide con la dirección de la flecha)</div></button></div>`,
	choices: ["Comprendido"],
	button_html: `<div style='height: 70px;'></div><button class="defaultButton">%choice%</button>`,
	on_finish: function(data) {
		data.task = "simon";
	}
}

// 3d.2
var prepare_main_simon = {
	type: jsPsychHtmlButtonResponse,
	stimulus: "<div style='font-size: 10pt; display: flex; align-items: center;'>Tiempo<div id = 'countdownbar' style = 'margin: 0px 25px;'><div id = 'timeleft'></div></div><div style='align-self: baseline;'>Puntaje<br><span style='font-size:27pt;'><b>" + total_simon + "</b></span></div></div><div style='height: 150px;'></div>" +
				"<p style='font-size: 54pt; font-weight: 1000; color: black;'>_</p>",
	choices: ["Ver instrucciones", "Comenzar la práctica"],
	button_html: `<div style='height: 70px;'></div><button class="defaultButton">%choice%</button>`,
	on_finish: function(data) {
		stay = data.response == 0 ? 1 : 0;
		data.task = "simon";
		practice = 0;
		clearTimeout(end_timer);
	}
}

// 3d
var premain_simon = {
	timeline: [instructions_simon_2, prepare_main_simon],
	on_timeline_start: function() {
		total_simon = 0;
		timeout = 0;
	},
	loop_function: function() {
		return stay;
	},
	on_timeline_end: function() {
		stay = 1;
	},
  data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data){
    data.task="instrucciones"
  }
}

// Function to create display stimulus + countdown bar
var display_simon = function(stimulus) {
	var stim = stimuli_simon[stimulus].stim;
	var loc = stimuli_simon[stimulus].loc;

	return "<div style='font-size: 10pt; position: relative; left: 5%; display: flex; align-items: center;'>Tiempo<div id = 'countdownbar' style = 'margin: 0px 25px;'><div id = 'timeleft'></div></div><div style='align-self: baseline;'>Puntaje<br><span style='font-size:27pt;'><b>" + total_simon + "</b></span></div></div><div style='height: 128px;'></div>" +
	"<span style='display: flex; justify-content: " + loc + ";'><img src='" + stim + "' height='70'></span><p></p>" +
	"<div style='height: 50px;'></div>"
}

// Function to create block of simon trials
// 		- simon: Array containing the indices of stimuli_simon to be referenced as nth trials for that block
var createSimonBlock = function(simon) {
	var trial_simon = {
		type: jsPsychHtmlButtonResponse,
		stimulus: function() { return display_simon(simon[block_trial_count]); },
		choices: function() { return [stimuli_simon[simon[block_trial_count]].resp1, stimuli_simon[simon[block_trial_count]].resp2]; },
		button_html: function() {
			var choice1 = '<button class="choiceStyle" style="font-family: Open Sans; font-weight: 1000; color: white;"><div style="color: black; font-size: 34pt; font-weight: 200;">_</div>%choice%</button>'
			var choice2 = '<button class="choiceStyle" style="font-family: Open Sans; font-weight: 1000; color: white;"><div style="color: black; font-size: 34pt; font-weight: 200;">_</div>%choice%</button>'

			return [choice1, choice2];
		},
		margin_horizontal: '53px',
		on_start: function() {
			// Set up timer if it's the first trial
			if (block_trial_count == 0) {
				block_time_limit = practice == 1 ? practice_duration : main_duration;
				block_start = Date.now();

				end_timer = setTimeout(function() {

					block_trial_count = 0;
					timeout = 1;

					// console.log("Block timed out at this trial", block_trial_count, timeout); // Here to debug

					// this function is all you need to end the current timeline
					jsPsych.endCurrentTimeline();

				}, block_time_limit);
			}
		},
		on_load: function() {
			countdown(block_start, block_time_limit);
		},
		on_finish: function(data) {
			data.block_trial_count = timeout == 1 ? block_trial_count : block_trial_count + 1;
			data.task = "simon";
			data.practice = practice;
			data.item = simon[block_trial_count];
			data.stim = stimuli_simon[simon[block_trial_count]].stimsign;
			data.location = stimuli_simon[simon[block_trial_count]].loc;
			data.resp1 = stimuli_simon[simon[block_trial_count]].resp1;
			data.resp2 = stimuli_simon[simon[block_trial_count]].resp2;
			data.correct_response = stimuli_simon[simon[block_trial_count]].correct_response;
			data.condition = stimuli_simon[simon[block_trial_count]].condition;
			data.accuracy = data.response == stimuli_simon[simon[block_trial_count]].correct_response ? 1 : 0;
			data.timeout = timeout;

			switch(timeout) {
				case 0:
					total_simon = data.accuracy == 1 ? total_simon + 1 : total_simon - 1;
					break;
				case 1:
					total_simon = total_simon;
					break;
			}

			data.score_after_trial = total_simon;

			// console.log(data, block_time_limit - (Date.now()-block_start), (Date.now() - block_start)) // Here to debug
		}
	}

	var feedback_simon = {
		type: jsPsychHtmlButtonResponse,
		stimulus: function() { return display_simon(simon[block_trial_count]); },
		choices: function() { return [stimuli_simon[simon[block_trial_count]].resp1, stimuli_simon[simon[block_trial_count]].resp2]; },
		button_html: function() {
			var resp = jsPsych.data.get().last(1).values()[0].response;
			var correct_response = jsPsych.data.get().last(1).values()[0].correct_response;

			switch (resp) {
				case 0:
					var feedback1 = correct_response == 0 ? '<div style="color: #1ED760; font-size: 34pt; font-weight: 200;">&#10004;</div>' : '<div style="color: red; font-size: 34pt; font-weight: 200;">&#10008;</div>';
					var feedback2 = '<div style="color: black; font-size: 34pt; font-weight: 200;">_</div>';
					break;
				case 1:
					var feedback1 = '<div style="color: black; font-size: 34pt; font-weight: 200;">_</div>';
					var feedback2 = correct_response == 1 ? '<div style="color: #1ED760; font-size: 34pt; font-weight: 200;">&#10004;</div>' : '<div style="color: red; font-size: 34pt; font-weight: 200;">&#10008;</div>';
					break;
			}

			var choice1 = '<button class="choiceStyle" style="font-family: Open Sans; font-weight: 1000; color: white;">' + feedback1 + '%choice%</button>'
			var choice2 = '<button class="choiceStyle" style="font-family: Open Sans; font-weight: 1000; color: white;">' + feedback2 + '%choice%</button>'

			return [choice1, choice2];
		},
		margin_horizontal: '53px',
		on_start: function() {
			block_trial_count++
		},
		on_load: function() {
			countdown(block_start, block_time_limit);

		},
		trial_duration: 500,
		response_ends_trial: false
	}

	var block_simon = {
		timeline: [trial_simon, feedback_simon],
		loop_function: function() {
			return true;
		}
	}

	return block_simon;
}

// 3c & 3f
block_simon_practice = createSimonBlock(practice_simon);
block_simon_main = createSimonBlock(main_simon);

// 3g
var conclusion_simon = {
	type: jsPsychHtmlButtonResponse,
	stimulus: function() {return `<p>Lograste ` + total_simon + ` de puntos en la tarea. Gran trabajo!</p><p>Click en siguiente para ver el puntaje.</p>`; },
	choices: ["Siguiente"],
	button_html: `<div style='height: 70px;'></div><button class="defaultButton">%choice%</button>`,
	on_start: function() {
		// Calculate the following metrics separately for practice trials and main trials, filtering out the trial where the block timed out:
		//     - score_final: final score of the participant at the end of the block
		//	   - meanrt_final: mean RT of all trials across the block (regardless of accuracy)
		//     - score_x: score of the participant for x condition calculated as correct - incorrect for trials in x condition, where x is as follows:
		//			1. fully congruent
		//			2. stim congruent resp incongruent
		//			3. stim incongruent resp congruent
		//          4. fully incongruent
		//	   - meanrt_x: mean RT of all trials for x condition (regardless of accuracy)

		jsPsych.data.get().filter({task: "simon", practice: 1}).addToAll({
			score_final: jsPsych.data.get().filter({task: "simon", practice: 1, timeout: 0}).last(1).values()[0].score_after_trial,
			meanrt_final: jsPsych.data.get().filter({task: "simon", practice: 1, timeout: 0}).select("rt").mean(),
			score_1: jsPsych.data.get().filter({task: "simon", practice: 1, condition: 1, accuracy: 1, timeout: 0}).select("accuracy").count() - jsPsych.data.get().filter({task: "simon", practice: 1, condition: 1, accuracy: 0, timeout: 0}).select("accuracy").count(),
			meanrt_1: jsPsych.data.get().filter({task: "simon", practice: 1, condition: 1, timeout: 0}).select("rt").mean(),
			score_2: jsPsych.data.get().filter({task: "simon", practice: 1, condition: 2, accuracy: 1, timeout: 0}).select("accuracy").count() - jsPsych.data.get().filter({task: "simon", practice: 1, condition: 2, accuracy: 0, timeout: 0}).select("accuracy").count(),
			meanrt_2: jsPsych.data.get().filter({task: "simon", practice: 1, condition: 2, timeout: 0}).select("rt").mean(),
			score_3: jsPsych.data.get().filter({task: "simon", practice: 1, condition: 3, accuracy: 1, timeout: 0}).select("accuracy").count() - jsPsych.data.get().filter({task: "simon", practice: 1, condition: 3, accuracy: 0, timeout: 0}).select("accuracy").count(),
			meanrt_3: jsPsych.data.get().filter({task: "simon", practice: 1, condition: 3, timeout: 0}).select("rt").mean(),
			score_4: jsPsych.data.get().filter({task: "simon", practice: 1, condition: 4, accuracy: 1, timeout: 0}).select("accuracy").count() - jsPsych.data.get().filter({task: "simon", practice: 1, condition: 4, accuracy: 0, timeout: 0}).select("accuracy").count(),
			meanrt_4: jsPsych.data.get().filter({task: "simon", practice: 1, condition: 4, timeout: 0}).select("rt").mean()
		})

		jsPsych.data.get().filter({task: "simon", practice: 0}).addToAll({
			score_final: jsPsych.data.get().filter({task: "simon", practice: 0, timeout: 0}).last(1).values()[0].score_after_trial,
			meanrt_final: jsPsych.data.get().filter({task: "simon", practice: 0, timeout: 0}).select("rt").mean(),
			score_1: jsPsych.data.get().filter({task: "simon", practice: 0, condition: 1, accuracy: 1, timeout: 0}).select("accuracy").count() - jsPsych.data.get().filter({task: "simon", practice: 0, condition: 1, accuracy: 0, timeout: 0}).select("accuracy").count(),
			meanrt_1: jsPsych.data.get().filter({task: "simon", practice: 0, condition: 1, timeout: 0}).select("rt").mean(),
			score_2: jsPsych.data.get().filter({task: "simon", practice: 0, condition: 2, accuracy: 1, timeout: 0}).select("accuracy").count() - jsPsych.data.get().filter({task: "simon", practice: 0, condition: 2, accuracy: 0, timeout: 0}).select("accuracy").count(),
			meanrt_2: jsPsych.data.get().filter({task: "simon", practice: 0, condition: 2, timeout: 0}).select("rt").mean(),
			score_3: jsPsych.data.get().filter({task: "simon", practice: 0, condition: 3, accuracy: 1, timeout: 0}).select("accuracy").count() - jsPsych.data.get().filter({task: "simon", practice: 0, condition: 3, accuracy: 0, timeout: 0}).select("accuracy").count(),
			meanrt_3: jsPsych.data.get().filter({task: "simon", practice: 0, condition: 3, timeout: 0}).select("rt").mean(),
			score_4: jsPsych.data.get().filter({task: "simon", practice: 0, condition: 4, accuracy: 1, timeout: 0}).select("accuracy").count() - jsPsych.data.get().filter({task: "simon", practice: 0, condition: 4, accuracy: 0, timeout: 0}).select("accuracy").count(),
			meanrt_4: jsPsych.data.get().filter({task: "simon", practice: 0, condition: 4, timeout: 0}).select("rt").mean()
		})

		if (online == 0) {
			var filename = "data_squared-simon_" + subject + ".csv";
			jsPsych.data.get().filter({task: "simon"}).localSave('csv', filename);
		}
		clearTimeout(end_timer);
	}, on_finish: function(data) {
    data.task="conclusion";}
}

// Put timeline together
var simon_task = {timeline: [intro_simon, threetwoone, block_simon_practice, premain_simon, threetwoone, block_simon_main, conclusion_simon]};

/////////////////////////////////////////
// FINALIZE EXPERIMENT CONTEXT  /////////
/////////////////////////////////////////

// Ending screen
  var conclusion = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function() { return '<p style="font-size:25px;"> Has obtenido los siguientes puntos en las tres tareas: <br>' +
	      '<p> Tarea de colores: ' + total_stroop + ' puntos</p>' +
			  '<p> Tarea de flechas múltiples: ' + total_flanker + ' puntos</p>' +
			  '<p> Tarea de flecha única: ' + total_simon + ' puntos</p>' +
			  '<p style="font-size:25px;">Finalizó con este grupo de tareas</p>' +
        '<p style="font-size:25px;"><b> Presione cualquier tecla para continuar.</b></p>' }
}

var exit_fullscreen = {
	type: jsPsychFullscreen,
	fullscreen_mode: false,
	delay_after: 0,
	on_finish: function(){jsPsych.endExperiment();}
  }


// PUTTING IT ALL TOGETHER
var preload = {
	type: jsPsychPreload,
	images: [al, ar, ml_fr, mr_fl, rarr, larr],
  on_finish: function(data) {
    data.task="instrucciones"}
}
  //src = "squared.html"
/*function temporizador_prueba() {
    var duracion = 30;
    var temporizadorContenedor = document.getElementById('temporizadorContenedor');
    var temporizadorElemento = document.createElement('div');
    temporizadorElemento.innerHTML = '<p id="temporizador"> Tiempo restante: ' + duracion + ' segundos</p>';
    temporizadorContenedor.appendChild(temporizadorElemento);

    var contador = setInterval(function () {
        duracion--;

    document.getElementById('temporizador').innerText = 'Tiempo restante: ' + duracion + ' segundos';
    if (duracion <= 0) {
      clearInterval(contador);
      jsPsych.finishTrial(); 
      }
    }, 1000);
  };
*/


    /*var preload = {
        type: jsPsychPreload,
        images: ['img/blue.png']
      }*/

    /*  var camera_instructions = {
        type: jsPsychHtmlButtonResponse,
        stimulus: `
          <p>Por favor para participar de este estudio permita que se utilice la camara de tu computadora.</p>
          <p>Aparecerá un cartel en su computadora que preguntará si permite acceso para utilizar la camara.</p>
          <p>Es necesario que permita el acceso a la camara para continuar, de lo contrario no podrá participar del estudio<p>
          <p>La cámara puede tardar hasta 30 segundos en inicializarse después de que des tu permiso.</p>
        `,
        choices: ['Comprendido'],
      };

    var instrucciones_camara={ 
        type: jsPsychHtmlButtonResponse,
        stimulus: 
        `
          <p>A continuación, aparecerá en la pantalla unas instrucciones en inglés que dicen que debes colocar la cabeza de modo que la webcam tenga una buena visión de tus ojos. </p>
          <p>Intente centrar la cara en el recuadro que le aparecerá a continuación y mire directamente a la cámara.</p>
          <p>Es importante que intentes mantener la cabeza quieta durante todo el experimento, así que tómate un momento para acomodarte y estar cómodo/a.<p>
          <p>Cuando su cara esté centrada en el recuadro y esté de color verde, haga click en continuar.</p>
        `,
        choices: ['Continuar'] };


      var init_camera = {
        type: jsPsychWebgazerInitCamera 
      };

      var calibration_instructions = {
        type: jsPsychHtmlButtonResponse,
        stimulus: `
          <p>Ahora vamos a calibrar la cámara, para que el software pueda utilizar la imagen de tus ojos para predecir tu mirada.</p>
          <p>Verás que aparecen una serie de puntos en la pantalla. Mira cada punto y haz click sobre él.</p>
        `,
        choices: ['Comprendido'],
      }

      var calibration = {
        type: jsPsychWebgazerCalibrate,
        calibration_points: [
          [25,25],[75,25],[50,50],[25,75],[75,75]
        ],
        repetitions_per_point: 2,
        randomize_calibration_order: true
      }

      var validation_instructions = {
        type: jsPsychHtmlButtonResponse,
        stimulus: `
          <p>Ahora mediremos la precisión de la calibración.</p>
          <p>Mira cada punto tal y como aparece en la pantalla.</p>
          <p style="font-weight: bold;">Esta vez no es necesario hacer click en los puntos.</p>
        `,
        choices: ['Comprendido'],
        post_trial_gap: 1000
      }

      var validation = {
        type: jsPsychWebgazerValidate,
        validation_points: [
          [25,25],[75,25],[50,50],[25,75],[75,75]
        ],
        roi_radius: 200,
        time_to_saccade: 1000,
        validation_duration: 2000,
        data: {
          task: 'validate'
        }
      }

      var recalibrate_instructions = {
        type: jsPsychHtmlButtonResponse,
        stimulus: `
          <p>La precisión de la calibración es un poco menor de lo que nos gustaría.</p>
          <p>Intentemos calibrar una vez más.</p>
          <p>En la siguiente pantalla, fíjate en los puntos y haz click en ellos.<p>
        `,
        choices: ['OK'],
      }

      var recalibrate = {
        timeline: [recalibrate_instructions, calibration, validation_instructions, validation],
        conditional_function: function(){
          var validation_data = jsPsych.data.get().filter({task: 'validate'}).values()[0];
          return validation_data.percent_in_roi.some(function(x){
            var minimum_percent_acceptable = 50;
            return x < minimum_percent_acceptable;
          });
        },
        data: {
          phase: 'recalibration'
        }
      }

      var calibration_done = {
        type: jsPsychHtmlButtonResponse,
        stimulus: `
          <p>Genial, ¡hemos terminado con la calibración!</p>
        `,
        choices: ['OK']
      }

      var begin = {
        type: jsPsychHtmlKeyboardResponse,
        stimulus: ` <p> A continuación tenés que mirar la imagen mientras se recogen los datos de seguimiento ocular.</p>
          <p>Pulsa cualquier tecla para empezar.</p>
        `
      } */
      var instrucciones_1 = {
            type:jsPsychInstructions,
            pages:[`<p style="text-align: left;">A continuación se comenzará a reproducir un video y durante su reproducción se harán interrupciones en las cuales se le hará preguntas sobre el video. <br> Tiene un tiempo limite para responder estas preguntas.
              <br> 
              Se le preguntará donde estaba su mente en ese momento y se le dará una serie de opciones para responder.<br> A continuación le mostraremos las opciones que estan disponibles y haremos unas tareas de prueba </p>
                      
              Recuerde poner su computadora en sonido para la reproducción del video
              <br>
                      Toque ENTER para continuar
                      </p>`
            ],
                show_clickable_nav: false,
                key_forward : "Enter",
                on_finish: function(data) {
		  data.task = "instrucciones";
	}
            };

          var instrucciones_2 = {
          type:jsPsychInstructions,
          pages:[`<p style="text-align: left;">Ante la pregunta de: ¿Donde estaba tu mente en este momento? 
            <br> Tiene quince segundos para responder seleccionando algunas de las posibles opciones: </p>
                   <br>
                    <p style="text-align: left;"><strong> 1. En la tarea</strong></p>
                    <p style="text-align: left;">En este caso debe responder si estaba compenetrado en la tarea</p>
                    <p style="text-align: left;"><strong> 2. Pensando acerca de la tarea</strong></p>
                    <p style="text-align: left;">En este caso se selecciona si sus pensamientos estan relacionados con el contenido del video, por ejemplo ¡qué aburrido! ¡qué divertido! ¡qué interesante! ¡está muy complicado!</p> 
                    <p style="text-align: left;"><strong>3.Distraido </strong></p>
                    <p style="text-align: left;">En este caso se selecciona cuando no está prestando atención a la tarea y está distraido por interrupciones en el ambiente</p> 
                    <p style="text-align: left;"><strong> 4. Pensando en planes o recordando cosas del pasado</strong></p>
                    <p style="text-align: left;">En este caso se selecciona cuando esta pensando en cosas que nada tiene que ver sobre la tarea y que tienen que ver con tareas que quiere hacer o eventos de su pasado, por ejemplo mañana quiero ir al cine o ¡Que buena que estuvo la pelicula que vi ayer!
                    <p style="text-align: left;"><strong>5.Mente en blanco</strong></p><br>
                    <br>
                    Es importante que sea lo mas sincero posible con sus respuestas, recuerde que sus respuestas son anonimas.
                    <br>
                    <br>
                    Toque ENTER para continuar
                    </p>`
            ],
                show_clickable_nav: false,
                key_forward : "Enter",
                on_finish: function(data) {
		  data.task = "instrucciones";
	}
            };

            var instrucciones_3 = {
            type:jsPsychInstructions,
            pages:[`<p style="text-align: left;"> Además de lo anterior se le hará preguntas que tienen que ver con lo que los videos dicen y tendrá un minuto para seleccionar una de las opciones, hay UNA sola opcion correcta.
                    <br> ¡Vayamos a la práctica!</p>
                      <br>
                      Toque ENTER para continuar
                      </p>`
            ],
                show_clickable_nav: false,
                key_forward : "Enter",
                on_finish: function(data) {
		  data.task = "instrucciones";
	}
            };

      var ejemplo_video = {
        type: jsPsychVideoKeyboardResponse,
        stimulus: ['video/VIDEO FISICA PRESENT_1.mp4'],
        choices: "NO_KEYS",
        autoplay: true,
        trial_ends_after_video: true,
        width: 1280,
        height: 720,
        on_finish: function(data) {
		  data.task = "entrenamiento";
	}
    }


        var ejemplo_preguntas ={ 
          type: jsPsychHtmlButtonResponse,
          stimulus: '<p style="text-align: left;">' +
            "¿Cual es la ultima frase del video?"+
            "                     <br>"+
            "                     <br>"+
            '1. Todo lo que existe en el universo esta hecho de materia que se puede descomponer de una docena de particulas elementales.<br>' +
            '2.Para el modelo estandar actual existen dos tipos de particulas <br>' +
            '3.Los fisicos habian observado radiación cuando se desintegra un atomo<br>' +
            '4.El numero y tipo de particulas elementales es hoy motivo de investigación<br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock100">1:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 30000,
  on_load: function(){
            var wait_time1 = 1 * 30 * 1000; // in milliseconds
            var start_time1 = performance.now();
            document.querySelector('button').disabled = false;
            var interval1 = setInterval(function(){
                var time_left1 = wait_time1 - (performance.now() - start_time1);
                var minutes1 = Math.floor(time_left1 / 1000 / 30);
                var seconds1 = Math.floor((time_left1 - minutes1*1000*30)/1000);
                var seconds_str1 = seconds1.toString().padStart(2,'0');
                document.querySelector('#clock100').innerHTML = minutes1 + ':' + seconds_str1
                if(time_left1 <= 0){
                    document.querySelector('#clock100').innerHTML = "0:00";
                    //document.querySelector('button').disabled = true;
                    clearInterval(interval1);
      }
    }, 250)
  }, on_finish: function(data) {
		  data.task = "entrenamiento";
	}
};

            var instrucciones_4 = {
            type:jsPsychInstructions,
            pages:[`<p style="text-align: left;"> ¡Hemos terminado con el periodo de prueba!, le recomendamos que este en un lugar tranquilo y que evite cualquier tipo de distracción como por ejemplo pestañas abiertas en su computadora.</p>
                      
            Recuerde tener su computadora en sonido y poner su celular en silencio para evitar distracciones.
            <br>
                      Toque ENTER para iniciar
                      </p>`
            ],
                show_clickable_nav: false,
                key_forward : "Enter",
                on_finish: function(data) {
		  data.task = "instrucciones";
	}
            };

      var trial_1 = {
        type: jsPsychVideoKeyboardResponse,
        stimulus: ['video/VIDEO ASTRONOMIA PRESENT_1.mp4'],
        choices: "NO_KEYS",
        autoplay: true,
        trial_ends_after_video: true,
        width: 1280,
        height: 720,
        data: {interaction_data: get_interaction_data()
    },
        on_finish: function(data) {
		  data.task = "video1";
	}
        /*,
        extensions: [
          {
            type: jsPsychExtensionWebgazer, 
            params: {targets: ['#jspsych-video-keyboard-response-stimulus']}
          }
        ]*/
      };

      var mw = {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "¿Cual de las siguientes opciones describe mejor tu estado mental justo antes de la presentación de esta pantalla?"+
            "         <br>"+
            "          <br>"+
            '1. En la tarea <br>' +
            '2. Pensamientos relacionados con la tarea  <br>' +
            '3. Distraido (en estimulos del ambiente no relacionado con la tarea) <br>' +
            '4. Pensando en planes o recordando cosas del pasado <br>'+
            '5. Mente en blanco <br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock300">12:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 12000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 12 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock300').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock300').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		  data.task = "Mind Wandering";
	}
};


var mw_prueba = {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "¿Cual de las siguientes opciones describe mejor tu estado mental justo antes de la presentación de esta pantalla?"+
            "         <br>"+
            "          <br>"+
            '1. En la tarea <br>' +
            '2. Pensamientos relacionados con la tarea  <br>' +
            '3. Distraido (en estimulos del ambiente no relacionado con la tarea) <br>' +
            '4. Pensando en planes o recordando cosas del pasado <br>'+
            '5. Mente en blanco <br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock300">12:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 12000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 12 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock300').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock300').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },
  on_finish: function(data) {
		  data.task = "Prueba";
	}
};

      var trial_2 = {
        type: jsPsychVideoKeyboardResponse,
        stimulus: ['video/VIDEO ASTRONOMIA PRESENT_2.mp4'],
        choices: "NO_KEYS",
        autoplay: true,
        trial_ends_after_video: true,
        width: 1280,
        height: 720,
        data: {interaction_data: get_interaction_data()
    },
        on_finish: function(data) {
		  data.task = "video2";
	}
        /*,
        extensions: [
          {
            type: jsPsychExtensionWebgazer, 
            params: {targets: ['#jspsych-video-keyboard-response-stimulus']}
          }
        ]*/
      };

      var trial_3 = {
        type: jsPsychVideoKeyboardResponse,
        stimulus: ['video/VIDEO ASTRONOMIA PRESENT_3.mp4'],
        choices: "NO_KEYS",
        autoplay: true,
        trial_ends_after_video: true,
        width: 1280,
        height: 720,
        data: {interaction_data: get_interaction_data()
    },
        on_finish: function(data) {
		  data.task = "video3";
	}
        /*,
        extensions: [
          {
            type: jsPsychExtensionWebgazer, 
            params: {targets: ['#jspsych-video-keyboard-response-stimulus']}
          }
        ]*/
      };

      var trial_4 = {
        type: jsPsychVideoKeyboardResponse,
        stimulus: ['video/VIDEO ASTRONOMIA PRESENT_4.mp4'],
        choices: "NO_KEYS",
        autoplay: true,
        trial_ends_after_video: true,
        width: 1280,
        height: 720,
        data: {interaction_data: get_interaction_data()
    },
        on_finish: function(data) {
		  data.task = "video4";
	}
       /*,
        extensions: [
          {
            type: jsPsychExtensionWebgazer, 
            params: {targets: ['#jspsych-video-keyboard-response-stimulus']}
          }
        ]*/
      };

      var trial_5 = {
    type: jsPsychVideoKeyboardResponse,
    stimulus: ['video/VIDEO ASTRONOMIA PRESENT_5.mp4'],
    choices: "NO_KEYS",
    autoplay: true,
    trial_ends_after_video: true,
    width: 1280,
    height: 720,
    data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		  data.task = "video5";
	}
    
    /*,
    extensions: [
          {
            type: jsPsychExtensionWebgazer, 
            params: {targets: ['#jspsych-video-keyboard-response-stimulus']}
          }
        ]*/
      };


      var pregunta1 = {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "¿Cual es la ultima frase del video?"+
            "                     <br>"+
            "                     <br>"+
            '1. Galileo Galilei utilizó el telescopio óptico en la astronomía<br>' +
            '2. Los sistemas de posicionamiento son las partes mecánicas donde se apoya los telescopios para proveer de movimiento controlado al telescopio<br>' +
            '3. Los primeros telescopios ópticos se crearon a partir del siglo diecisiete<br>' +
            '4. Es muy importante la firmeza y suavidad de los movimientos para una buena observación<br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock1">1:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 30000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time1 = 1 * 30 * 1000; // in milliseconds
            var start_time1 = performance.now();
            document.querySelector('button').disabled = false;
            var interval1 = setInterval(function(){
                var time_left1 = wait_time1 - (performance.now() - start_time1);
                var minutes1 = Math.floor(time_left1 / 1000 / 30);
                var seconds1 = Math.floor((time_left1 - minutes1*1000*30)/1000);
                var seconds_str1 = seconds1.toString().padStart(2,'0');
                document.querySelector('#clock1').innerHTML = minutes1 + ':' + seconds_str1
                if(time_left1 <= 0){
                    document.querySelector('#clock1').innerHTML = "0:00";
                    //document.querySelector('button').disabled = true;
                    clearInterval(interval1);
      }
    }, 250)
  },
  on_finish: function(data) {
		  data.task = "attentioncheck"
      data.item = "1";
	}
};
  
var pregunta2 = {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "¿Cual es la ultima frase del video?"+
            "                     <br>"+
            "                     <br>"+
            '1. Fue condenado a prisión perpetua en su casa de Florencia donde trabajó en astronomía y otras ciencias hasta su muerte<br>' +
            '2. Galileo Galilei fue un astrónomo filosofo, matemático y físico italiano<br>' +
            '3. En el error cometido por las autoridades eclesiásticas se ha querido ver la ruptura definitiva entre ciencia y religión <br>' +
            '4. El proceso inquisitorial al que fue sometido Galileo por esta defensa del heliocentrismo acabaría elevando su figura a la condición de símbolo<br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock2">30:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 30000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time2 = 1 * 30 * 1000; // in milliseconds
            var start_time2 = performance.now();
            document.querySelector('button').disabled = false;
            var interval2 = setInterval(function(){
                var time_left2 = wait_time2 - (performance.now() - start_time2);
                var minutes2 = Math.floor(time_left2 / 1000 / 30);
                var seconds2 = Math.floor((time_left2 - minutes2*1000*30)/1000);
                var seconds_str2 = seconds2.toString().padStart(2,'0');
                document.querySelector('#clock2').innerHTML = minutes2 + ':' + seconds_str2
                if(time_left2 <= 0){
                    document.querySelector('#clock2').innerHTML = "0:00";
                    //document.querySelector('button').disabled = true;
                    clearInterval(interval2);
      }
    }, 250)
  },
  on_finish: function(data) {
		  data.task = "attentioncheck"
      data.item="2";
	}
};

var pregunta3 = {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "¿Cual es la ultima frase del video?"+
            "                     <br>"+
            "                     <br>"+
            '1. Se trata de un conjunto de cuatro telescopios grandes, cada uno de estos 4 telescopios pueden utilizar independiente o conjuntamente<br>' +
            '2. Con el desarrollo de la astronáutica se logró poner en órbita satélites que transportasen telescopios ópticos y permitiese realizar observaciones durante un periodo más largo de tiempo.<br>' +
            '3. Su composición química, temperatura, velocidad en el espacio, movimiento propio y distancia entre la Tierra entre otras propiedades <br>' +
            '4. La radiación electromagnética de los cuerpos celestes distantes en el espacio puede atravesar la atmosfera de la Tierra mucho más fácilmente que la luz visible<br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock3">30:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 30000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 30 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock3').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock3').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },
  on_finish: function(data) {
		  data.task = "attentioncheck"
      data.item="3";
	}
};

var pregunta4 = {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
           "¿Cual es la ultima frase del video?"+
            "                     <br>"+
            "                     <br>"+
            '1. Radiotelescopios muy distanciados del uno de otros son utilizados frecuentemente en combinación utilizando una técnica llamada radiointerferometría<br>' +
            '2. La radioastronomía también puede llevarnos a develar el origen del universo.<br>' +
            '3. Los pulsares son estrellas que emiten con determinada regularidad variaciones de ondas de radio <br>' +
            '4. La radioastronomía ha llevado un importante incremente en el conocimiento astronómica debido a que nos permite ver cosas que no son posibles de detectar en la astronomía óptica<br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock4">30:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 30000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 30 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock4').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock4').innerHTML = "0:00";
                    //document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },
  on_finish: function(data) {
		  data.task = "attentioncheck"
      data.item = "4";
	}
};

var pregunta5 = {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "¿Cual es la ultima frase del video?"+
            "                     <br>"+
            "                     <br>"+
            '1. La teoría del Big Bang predijo la existencia de una radiación con características especiales que se registraría en todo el universo, como consecuencia de esta gran explosión<br>' +
            '2. Dicha radiación fue efectivamente registrada en el año 1965 aportando evidencia a favor de la teoría del Big Bang <br>' +
            '3. Por ejemplo, la teoría del Big Bang explicaría el origen del universo <br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock5">30:00</span>' +
            '</p>',
  choices: [1, 2, 3],
  trial_duration: 30000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 30 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock5').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock5').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },
  on_finish: function(data) {
		  data.task = "attentioncheck"
      data.item ="5";
	}
};


      var show_data = {
        type: jsPsychHtmlKeyboardResponse,
        stimulus: function() {
          var trial_data = jsPsych.data.getLastTrialData().values();
          var trial_json = JSON.stringify(trial_data, null, 2);
          return `<p style="margin-bottom:0px;"><strong>Trial data:</strong></p>
            <pre style="margin-top:0px;text-align:left;">${trial_json}</pre>`;
        },
        choices: "NO_KEYS",
        on_finish: function(data) {
    data.task="data"}
      };




    var countdown_trial = {
        type: jsPsychHtmlButtonResponse,
        stimulus: '<p>La siguiente parte del experimento inicia en <span id="clock">1:00</span> presione continuar cuando se acabe el tiempo.',
        choices: ['Continuar'],
        on_load: function(){
            var wait_time = 1 * 60 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = true;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 60);
                var seconds = Math.floor((time_left - minutes*1000*60)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock').innerHTML = "0:00";
                    document.querySelector('button').disabled = false;
                    clearInterval(interval);
      }
    }, 250)
  }
}

var fullscreen_trial = {
  type: jsPsychFullscreen,
  message: "<p style='font-size: 24px; font-weight: bold; color: white;'>Haga click en el botón para cambiar a pantalla completa</p>",
  button_label: "Continuar",
  fullscreen_mode: true,
  on_finish:function(data) {
		data.task = "instrucciones";
	}
};


    /*var pantalla_full={ 
        type: jsPsychHtmlButtonResponse,
        stimulus: `
          <p> A continuación aparecerá una pantalla en inglés preguntando si da acceso a poner pantalla completa, debe dar click en el botón para continuar </p>`,
        choices: ['Comprendido'] };*/


    var timeline = [];

    var instruccion1 = {
      type: jsPsychHtmlKeyboardResponse,
      choices: ['Enter'],
      stimulus:`<p><strong>Running Memory Span</strong></p><p>A continuación vas a ver una serie de letras, esto es, un conjunto de letras que aparecerán de a una por vez en el centro de la pantalla.</p></div><p>El largo de cada serie no se sabe de antemano, es decir que va a ser diferente e impredecible.</p><p>Tu objetivo es <strong>retener las últimas letras</strong> de cada serie para luego recordarlas en el mismo orden en el que aparecieron</p><p>(Presione ENTER para continuar)</p>`,
      data: {interaction_data: get_interaction_data()
    },
      on_finish: function(data) {
		data.task = "instrucciones";
	}};

    var instruccion2 = {
      type: jsPsychHtmlKeyboardResponse,
      choices: ['Enter'],
      stimulus:`<p>Por ejemplo, podrás ver una serie de cinco letras seguidas, pero tu objetivo será recordar las últimas dos.</p><p>Si la serie es:</p></div><p>Q T J S N</p></div><p>Al aparecer la palabra <strong>Recuerdo</strong>, deberás ingresar:</p></div><p>S N</p></div><p>(Presione ENTER para continuar)</p>`,
      data: {interaction_data: get_interaction_data()
    },
      on_finish: function(data) {
		data.task = "instrucciones";
	}};
    
    var instruccion3 = {
      type: jsPsychHtmlKeyboardResponse,
      choices: ['Enter'],
      stimulus:`<p>En otra serie podrás ver cuatro letras y tu objetivo será recordar las últimas dos.</p><p>Si la serie es:</p></div><p>L H K G</p></div><p>Al aparecer la palabra <strong>Recuerdo</strong>, deberás ingresar:</p></div><p>K G</p></div><p>(Presione ENTER para continuar)</p>`,
      data: {interaction_data: get_interaction_data()
    },
      on_finish: function(data) {
		data.task = "instrucciones";
	}};


    var prueba1 = {
      type: jsPsychHtmlKeyboardResponse,
      choices: ['Enter'],
      stimulus:`<p>Vamos a hacer unos ensayos de prueba.</p><p>Van a aparecer unas series de letras y tendrás que recordar las últimas dos en el mismo orden en el que aparecieron.</p></div><p>Cuando aparezca la palabra <strong>Recuerdo</strong> deberás escribir la serie de letras y luego presionar la tecla ENTER.</p></div><p>De ser necesario, podrás borrar con la tecla Retroceso</p><p>(Presione ENTER para continuar)</p>`,
      post_trial_gap: 1000,
      data: {interaction_data: get_interaction_data()
    },
      on_finish: function(data) {
		data.task = "instrucciones";
	}
    };


    var estimulosp1 = [
      { stimulus: '<p style="font-size:100px; ">H</p>'},
      { stimulus: '<p style="font-size:100px; ">T</p>'},
      { stimulus: '<p style="font-size:100px; ">Q</p>'},
      { stimulus: '<p style="font-size:100px; ">N</p>'},
      { stimulus: '<p style="font-size:100px; ">L</p>'}
    ];

    var secuencia = {
      type: jsPsychHtmlKeyboardResponse,
      choices: ['NO_KEYS'],
      stimulus:jsPsych.timelineVariable('stimulus'),
      trial_duration: 500,
      post_trial_gap: 250
    };

    var test_procedurep1 = {
      timeline: [secuencia],
      timeline_variables: estimulosp1,
      data: {interaction_data: get_interaction_data()
    },
      on_finish: function(data) {
		data.task = "entrenamiento";
	}
      
    };

    var recuerdo_1 = {
      type: jsPsychSurveyText,
      button_label:'Continuar',
      questions: [{prompt: 'Recuerdo'}
    ],data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "entrenamiento";
	}};
    
    var recuerdo = {
      type: jsPsychSurveyText,
      button_label:'Continuar',
      questions: [{prompt: 'Recuerdo'}
    ],data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "Respuesta Running Span"
    data.item="1";
	}};

  var recuerdo2 = {
      type: jsPsychSurveyText,
      button_label:'Continuar',
      questions: [{prompt: 'Recuerdo'}
    ],data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "Respuesta Running Span"
    data.item="2";
	}};

  var recuerdo3 = {
      type: jsPsychSurveyText,
      button_label:'Continuar',
      questions: [{prompt: 'Recuerdo'}
    ],data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "Respuesta Running Span"
    data.item="3";
	}};

  var recuerdo4 = {
      type: jsPsychSurveyText,
      button_label:'Continuar',
      questions: [{prompt: 'Recuerdo'}
    ],data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "Respuesta Running Span"
    data.item="4";
	}};

  var recuerdo5 = {
      type: jsPsychSurveyText,
      button_label:'Continuar',
      questions: [{prompt: 'Recuerdo'}
    ],data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "Respuesta Running Span"
    data.item="5";
	}};

  var recuerdo6 = {
      type: jsPsychSurveyText,
      button_label:'Continuar',
      questions: [{prompt: 'Recuerdo'}
    ],data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "Respuesta Running Span"
    data.item="6";
	}};

  var recuerdo7 = {
      type: jsPsychSurveyText,
      button_label:'Continuar',
      questions: [{prompt: 'Recuerdo'}
    ],data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "Respuesta Running Span"
    data.item="7";
	}};

  var recuerdo8 = {
      type: jsPsychSurveyText,
      button_label:'Continuar',
      questions: [{prompt: 'Recuerdo'}
    ],data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "Respuesta Running Span"
    data.item="8";
	}};

  var recuerdo9 = {
      type: jsPsychSurveyText,
      button_label:'Continuar',
      questions: [{prompt: 'Recuerdo'}
    ],data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "Respuesta Running Span"
    data.item="9";
	}};

  var recuerdo10 = {
      type: jsPsychSurveyText,
      button_label:'Continuar',
      questions: [{prompt: 'Recuerdo'}
    ],data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "Respuesta Running Span"
    data.item="10";
	}};

  var recuerdo11 = {
      type: jsPsychSurveyText,
      button_label:'Continuar',
      questions: [{prompt: 'Recuerdo'}
    ],data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "Respuesta Running Span"
    data.item="11";
	}};

  var recuerdo12 = {
      type: jsPsychSurveyText,
      button_label:'Continuar',
      questions: [{prompt: 'Recuerdo'}
    ],data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "Respuesta Running Span"
    data.item="12";
	}};

  var recuerdo13 = {
      type: jsPsychSurveyText,
      button_label:'Continuar',
      questions: [{prompt: 'Recuerdo'}
    ],data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "Respuesta Running Span"
    data.item="13";
	}};

  var recuerdo14 = {
      type: jsPsychSurveyText,
      button_label:'Continuar',
      questions: [{prompt: 'Recuerdo'}
    ],data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "Respuesta Running Span"
    data.item="14";
	}};

  var recuerdo15 = {
      type: jsPsychSurveyText,
      button_label:'Continuar',
      questions: [{prompt: 'Recuerdo'}
    ],data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "Respuesta Running Span"
    data.item="15";
	}};

    var feedback1 = {
      type: jsPsychHtmlKeyboardResponse,
      choices: ['Enter'],
      stimulus:`<p>La respuesta correcta es: NL</p></div><p>(Presione ENTER para continuar)</p>`,
      post_trial_gap: 1000,
      data: {interaction_data: get_interaction_data()
    },
      on_finish: function(data) {
		data.task = "entrenamiento";
	}
    };
   // timeline.push(feedback1);

    var estimulosp1b = [
      { stimulus: '<p style="font-size:100px; ">G</p>'},
      { stimulus: '<p style="font-size:100px; ">S</p>'},
      { stimulus: '<p style="font-size:100px; ">H</p>'},
      { stimulus: '<p style="font-size:100px; ">J</p>'}
    ];
    
    var test_procedurep1b = {
      timeline: [secuencia],
      timeline_variables: estimulosp1b,
      data: {interaction_data: get_interaction_data()
    },
      on_finish: function(data) {
		data.task = "entrenamiento";
	}
    };
    //timeline.push(test_procedurep1b);
    
    //timeline.push(recuerdo);
    
    var feedback1b = {
      type: jsPsychHtmlKeyboardResponse,
      choices: ['Enter'],
      stimulus:`<p>La respuesta correcta es: HJ</p></div><p>(Presione ENTER para continuar)</p>`,
      data: {interaction_data: get_interaction_data()
    },
      post_trial_gap: 1000,
      on_finish: function(data) {
		data.task = "entrenamiento";
	}
    };
   // timeline.push(feedback1b);

    var prueba2 = {
      type: jsPsychHtmlKeyboardResponse,
      choices: ['Enter'],
      stimulus:`<p>Ahora van a aparecer series de letras y tendrás que recordar las últimas tres.</p></div><p>(Presione ENTER para continuar)</p>`,
      data: {interaction_data: get_interaction_data()
    },
      post_trial_gap: 1000,
      on_finish: function(data) {
		data.task = "instrucciones";
	}
    };
    //timeline.push(prueba2);

    var estimulosp2 = [
      { stimulus: '<p style="font-size:100px; ">S</p>'},
      { stimulus: '<p style="font-size:100px; ">K</p>'},
      { stimulus: '<p style="font-size:100px; ">R</p>'},
      { stimulus: '<p style="font-size:100px; ">T</p>'}
    ];
    
    var test_procedurep2 = {
      timeline: [secuencia],
      timeline_variables: estimulosp2,
      data: {interaction_data: get_interaction_data()
    },
      on_finish: function(data) {
		data.task = "entrenamiento";
	}
    };
    //timeline.push(test_procedurep2);

   // timeline.push(recuerdo);

    var feedback2 = {
      type: jsPsychHtmlKeyboardResponse,
      choices: ['Enter'],
      stimulus:`<p>La respuesta correcta es: KRT</p></div><p>(Presione ENTER para continuar)</p>`,
      data: {interaction_data: get_interaction_data()
    },
      post_trial_gap: 1000,
      on_finish: function(data) {
		data.task = "entrenamiento";
	}
    };
    //timeline.push(feedback2);

    var estimulosp2b = [
      { stimulus: '<p style="font-size:100px; ">P</p>'},
      { stimulus: '<p style="font-size:100px; ">Q</p>'},
      { stimulus: '<p style="font-size:100px; ">N</p>'},
      { stimulus: '<p style="font-size:100px; ">F</p>'},
      { stimulus: '<p style="font-size:100px; ">S</p>'}
    ];
    
    var test_procedurep2b = {
      timeline: [secuencia],
      timeline_variables: estimulosp2b,
      data: {interaction_data: get_interaction_data()
    },
      on_finish: function(data) {
		data.task = "entrenamiento";
	}
    };
    //timeline.push(test_procedurep2b);

    //timeline.push(recuerdo);

    var feedback2b = {
      type: jsPsychHtmlKeyboardResponse,
      choices: ['Enter'],
      stimulus:`<p>La respuesta correcta es: NFS</p></div><p>(Presione ENTER para continuar)</p>`,
      data: {interaction_data: get_interaction_data()
    },
      post_trial_gap: 1000,
      on_finish: function(data) {
		data.task = "entrenamiento";
	}
    };
   // timeline.push(feedback2b);

    var consigna2l = {
      type: jsPsychHtmlKeyboardResponse,
      choices: ['Enter'],
      stimulus:`<p>Esa fue la práctica.</p><p>Ahora vamos a empezar con la tarea.</p></div><p>Tu objetivo será recordar las <strong>últimas dos letras</strong> que aparecen en la serie.</p></div><p>(Presione ENTER para continuar)</p>`,
      data: {interaction_data: get_interaction_data()
    },
      post_trial_gap: 1000,
      on_finish: function(data) {
		data.task = "instrucciones";
	}
    };
    //timeline.push(consigna2l);

    var estimulos2 = [
      { stimulus: '<p style="font-size:100px; ">K</p>'},
      { stimulus: '<p style="font-size:100px; ">L</p>'}
    ];
    
    var test_procedure2 = {
      timeline: [secuencia],
      timeline_variables: estimulos2,
      data: {interaction_data: get_interaction_data()
    },
      on_finish: function(data) {
		data.task = "Running Span"
    data.item="1";
	}
    };
    //timeline.push(test_procedure2);

    //timeline.push(recuerdo);
    
    var estimulos2b = [
      { stimulus: '<p style="font-size:100px; ">R</p>'},
      { stimulus: '<p style="font-size:100px; ">K</p>'},
      { stimulus: '<p style="font-size:100px; ">T</p>'},
      { stimulus: '<p style="font-size:100px; ">G</p>'}
    ];
    
    var test_procedure2b = {
      timeline: [secuencia],
      timeline_variables: estimulos2b,
      data: {interaction_data: get_interaction_data()
    },
      on_finish: function(data) {
		  data.task = "Running Span"
      data.item="2";
	}
    };
    //timeline.push(test_procedure2b);
    
    //timeline.push(recuerdo);
    
    var estimulos2c = [
      { stimulus: '<p style="font-size:100px; ">K</p>'},
      { stimulus: '<p style="font-size:100px; ">H</p>'},
      { stimulus: '<p style="font-size:100px; ">F</p>'},
      { stimulus: '<p style="font-size:100px; ">G</p>'},
      { stimulus: '<p style="font-size:100px; ">J</p>'},
      { stimulus: '<p style="font-size:100px; ">S</p>'}
    ];
    
    var test_procedure2c = {
      timeline: [secuencia],
      timeline_variables: estimulos2c,
      data: {interaction_data: get_interaction_data()
    },
      on_finish: function(data) {
		data.task = "Running Span"
    data.item="3";
	}
    };
    //timeline.push(test_procedure2c);
    
    //timeline.push(recuerdo);
    
    var consigna3l = {
      type: jsPsychHtmlKeyboardResponse,
      choices: ['Enter'],
      stimulus:`<p>Ahora tendrás que recordar las <strong>últimas tres letras</strong> que aparecen en la serie.</p></div><p>(Presione ENTER para continuar)</p>`,
      data: {interaction_data: get_interaction_data()
    },
      post_trial_gap: 1000,
      on_finish: function(data) {
		data.task = "instrucciones";
	}
    };
    //timeline.push(consigna3l);

    var estimulos3 = [
      { stimulus: '<p style="font-size:100px; ">P</p>'},
      { stimulus: '<p style="font-size:100px; ">K</p>'},
      { stimulus: '<p style="font-size:100px; ">J</p>'},
      { stimulus: '<p style="font-size:100px; ">Q</p>'},
      { stimulus: '<p style="font-size:100px; ">S</p>'},
      { stimulus: '<p style="font-size:100px; ">H</p>'}
    ];
    
    var test_procedure3 = {
      timeline: [secuencia],
      timeline_variables: estimulos3,
      data: {interaction_data: get_interaction_data()
    },
      on_finish: function(data) {
		data.task = "Running Span"
    data.item="4";
	}
    };
    //timeline.push(test_procedure3);

    //timeline.push(recuerdo);

    var estimulos3b = [
      { stimulus: '<p style="font-size:100px; ">H</p>'},
      { stimulus: '<p style="font-size:100px; ">Q</p>'},
      { stimulus: '<p style="font-size:100px; ">N</p>'},
      { stimulus: '<p style="font-size:100px; ">L</p>'}
    ];
    
    var test_procedure3b = {
      timeline: [secuencia],
      timeline_variables: estimulos3b,
      data: {interaction_data: get_interaction_data()
    },
      on_finish: function(data) {
		  data.task = "Running Span"
      data.item="5";
	}
    };
    //timeline.push(test_procedure3b);

    //timeline.push(recuerdo);

    var estimulos3c = [
      { stimulus: '<p style="font-size:100px; ">G</p>'},
      { stimulus: '<p style="font-size:100px; ">K</p>'},
      { stimulus: '<p style="font-size:100px; ">N</p>'},
      { stimulus: '<p style="font-size:100px; ">L</p>'},
      { stimulus: '<p style="font-size:100px; ">Q</p>'}
    ];
    
    var test_procedure3c = {
      timeline: [secuencia],
      timeline_variables: estimulos3c,
      data: {interaction_data: get_interaction_data()
    },
      on_finish: function(data) {
		data.task = "Running Span"
    data.item="6";
	}
    };
    //timeline.push(test_procedure3c);

    //timeline.push(recuerdo);

    var consigna4l = {
      type: jsPsychHtmlKeyboardResponse,
      choices: ['Enter'],
      stimulus:`<p>Ahora tendrás que recordar las <strong>últimas cuatro letras</strong> que aparecen en la serie.</p></div><p>(Presione ENTER para continuar)</p>`,
      data: {interaction_data: get_interaction_data()
    },
      post_trial_gap: 1000,
      on_finish: function(data) {
		data.task = "instrucciones";
	}
    };
    //timeline.push(consigna4l);
    
    var estimulos4 = [
      { stimulus: '<p style="font-size:100px; ">H</p>'},
      { stimulus: '<p style="font-size:100px; ">G</p>'},
      { stimulus: '<p style="font-size:100px; ">L</p>'},
      { stimulus: '<p style="font-size:100px; ">K</p>'},
      { stimulus: '<p style="font-size:100px; ">N</p>'},
      { stimulus: '<p style="font-size:100px; ">T</p>'},
      { stimulus: '<p style="font-size:100px; ">J</p>'}
    ];
    
    var test_procedure4 = {
      timeline: [secuencia],
      timeline_variables: estimulos4,
      data: {interaction_data: get_interaction_data()
    },
      on_finish: function(data) {
		  data.task = "Running Span"
      data.item="7";
	}
    };
   // timeline.push(test_procedure4);

   // timeline.push(recuerdo);
    
    var estimulos4b = [
      { stimulus: '<p style="font-size:100px; ">R</p>'},
      { stimulus: '<p style="font-size:100px; ">T</p>'},
      { stimulus: '<p style="font-size:100px; ">F</p>'},
      { stimulus: '<p style="font-size:100px; ">N</p>'},
      { stimulus: '<p style="font-size:100px; ">P</p>'},
    ];
    
    var test_procedure4b = {
      timeline: [secuencia],
      timeline_variables: estimulos4b,
      data: {interaction_data: get_interaction_data()
    },
      on_finish: function(data) {
		data.task = "Running Span"
    data.item="8";
	}
    };
    //timeline.push(test_procedure4b);

   // timeline.push(recuerdo);
    
    var estimulos4c = [
      { stimulus: '<p style="font-size:100px; ">P</p>'},
      { stimulus: '<p style="font-size:100px; ">N</p>'},
      { stimulus: '<p style="font-size:100px; ">Q</p>'},
      { stimulus: '<p style="font-size:100px; ">G</p>'},
      { stimulus: '<p style="font-size:100px; ">S</p>'},
      { stimulus: '<p style="font-size:100px; ">T</p>'},
      { stimulus: '<p style="font-size:100px; ">R</p>'}
    ];
    
    var test_procedure4c = {
      timeline: [secuencia],
      timeline_variables: estimulos4c,
      data: {interaction_data: get_interaction_data()
    },
      on_finish: function(data) {
		data.task = "Running Span"
    data.item="9";
	}
    };
    //timeline.push(test_procedure4c);

    //timeline.push(recuerdo);
    
    var consigna5l = {
      type: jsPsychHtmlKeyboardResponse,
      choices: ['Enter'],
      stimulus:`<p>Ahora tendrás que recordar las <strong>últimas cinco letras</strong> que aparecen en la serie.</p></div><p>(Presione ENTER para continuar)</p>`,
      data: {interaction_data: get_interaction_data()
    },
      post_trial_gap: 1000,
      on_finish: function(data) {
		data.task = "instrucciones";
	}
    };
    //timeline.push(consigna5l);
    
    var estimulos5 = [
      { stimulus: '<p style="font-size:100px; ">K</p>'},
      { stimulus: '<p style="font-size:100px; ">Q</p>'},
      { stimulus: '<p style="font-size:100px; ">F</p>'},
      { stimulus: '<p style="font-size:100px; ">R</p>'},
      { stimulus: '<p style="font-size:100px; ">J</p>'},
      { stimulus: '<p style="font-size:100px; ">H</p>'}
    ];
    
    var test_procedure5 = {
      timeline: [secuencia],
      timeline_variables: estimulos5,
      data: {interaction_data: get_interaction_data()
    },
      on_finish: function(data) {
		data.task = "Running Span"
    data.item="10";
	}
    };
    //timeline.push(test_procedure5);

    //timeline.push(recuerdo);
    
    var estimulos5b = [
      { stimulus: '<p style="font-size:100px; ">Q</p>'},
      { stimulus: '<p style="font-size:100px; ">R</p>'},
      { stimulus: '<p style="font-size:100px; ">P</p>'},
      { stimulus: '<p style="font-size:100px; ">F</p>'},
      { stimulus: '<p style="font-size:100px; ">H</p>'},
      { stimulus: '<p style="font-size:100px; ">K</p>'},
      { stimulus: '<p style="font-size:100px; ">L</p>'},
      { stimulus: '<p style="font-size:100px; ">S</p>'}
    ];
    
    var test_procedure5b = {
      timeline: [secuencia],
      timeline_variables: estimulos5b,
      data: {interaction_data: get_interaction_data()
    },
      on_finish: function(data) {
		data.task = "Running Span"
    data.item="11";
	}
    };
    //timeline.push(test_procedure5b);

    //timeline.push(recuerdo);
    
    var estimulos5c = [
      { stimulus: '<p style="font-size:100px; ">T</p>'},
      { stimulus: '<p style="font-size:100px; ">K</p>'},
      { stimulus: '<p style="font-size:100px; ">P</p>'},
      { stimulus: '<p style="font-size:100px; ">F</p>'},
      { stimulus: '<p style="font-size:100px; ">G</p>'},
      { stimulus: '<p style="font-size:100px; ">R</p>'},
      { stimulus: '<p style="font-size:100px; ">N</p>'}
    ];
    
    var test_procedure5c = {
      timeline: [secuencia],
      timeline_variables: estimulos5c,
      data: {interaction_data: get_interaction_data()
    },
      on_finish: function(data) {
		  data.task = "Running Span"
      data.item="12";
	}
    };
    //timeline.push(test_procedure5c);

    //timeline.push(recuerdo);
    
    var consigna6l = {
      type: jsPsychHtmlKeyboardResponse,
      choices: ['Enter'],
      stimulus:`<p>Ahora tendrás que recordar las <strong>últimas seis letras</strong> que aparecen en la serie.</p></div><p>(Presione ENTER para continuar)</p>`,
      data: {interaction_data: get_interaction_data()
    },
      post_trial_gap: 1000,
      on_finish: function(data) {
		data.task = "instrucciones";
	}
    };
    //timeline.push(consigna6l);
    
    var estimulos6 = [
      { stimulus: '<p style="font-size:100px; ">H</p>'},
      { stimulus: '<p style="font-size:100px; ">F</p>'},
      { stimulus: '<p style="font-size:100px; ">J</p>'},
      { stimulus: '<p style="font-size:100px; ">N</p>'},
      { stimulus: '<p style="font-size:100px; ">K</p>'},
      { stimulus: '<p style="font-size:100px; ">L</p>'},
      { stimulus: '<p style="font-size:100px; ">Q</p>'}
    ];
    
    var test_procedure6 = {
      timeline: [secuencia],
      timeline_variables: estimulos6,
      data: {interaction_data: get_interaction_data()
    },
      on_finish: function(data) {
		  data.task = "Running Span"
      data.item="13";
	}
    };
    //timeline.push(test_procedure6);

    //timeline.push(recuerdo);
    
    var estimulos6b = [
      { stimulus: '<p style="font-size:100px; ">K</p>'},
      { stimulus: '<p style="font-size:100px; ">J</p>'},
      { stimulus: '<p style="font-size:100px; ">Q</p>'},
      { stimulus: '<p style="font-size:100px; ">S</p>'},
      { stimulus: '<p style="font-size:100px; ">F</p>'},
      { stimulus: '<p style="font-size:100px; ">N</p>'},
      { stimulus: '<p style="font-size:100px; ">H</p>'},
      { stimulus: '<p style="font-size:100px; ">G</p>'}
    ];
    
    var test_procedure6b = {
      timeline: [secuencia],
      timeline_variables: estimulos6b,
      data: {interaction_data: get_interaction_data()
    },
      on_finish: function(data) {
		data.task = "Running Span"
    data.item="14";
	}
    };
   // timeline.push(test_procedure6b);

    //timeline.push(recuerdo);
    
    var estimulos6c = [
      { stimulus: '<p style="font-size:100px; ">K</p>'},
      { stimulus: '<p style="font-size:100px; ">L</p>'},
      { stimulus: '<p style="font-size:100px; ">H</p>'},
      { stimulus: '<p style="font-size:100px; ">N</p>'},
      { stimulus: '<p style="font-size:100px; ">G</p>'},
      { stimulus: '<p style="font-size:100px; ">F</p>'},
      { stimulus: '<p style="font-size:100px; ">T</p>'},
      { stimulus: '<p style="font-size:100px; ">J</p>'}
    ];
    
    var test_procedure6c = {
      timeline: [secuencia],
      timeline_variables: estimulos6c,
      data: {interaction_data: get_interaction_data()
    },
      on_finish: function(data) {
		  data.task = "Running Span"
      data.item="15";
	}
    };
    //timeline.push(test_procedure6c);

    //timeline.push(recuerdo);


var running_span= {timeline:[instruccion1, instruccion2,instruccion3, prueba1, test_procedurep1, recuerdo_1, feedback1, test_procedurep1b, recuerdo_1, feedback1b, prueba2, test_procedurep2, recuerdo_1, feedback2, test_procedurep2b, recuerdo_1, feedback2b, consigna2l, test_procedure2, recuerdo, test_procedure2b, recuerdo2, test_procedure2c, recuerdo3, consigna3l, test_procedure3, recuerdo4, test_procedure3b, recuerdo5, test_procedure3c, recuerdo6, consigna4l, test_procedure4, recuerdo7, test_procedure4b, recuerdo8, test_procedure4c, recuerdo9, consigna5l, test_procedure5, recuerdo10, test_procedure5b, recuerdo11, test_procedure5c, recuerdo12, consigna6l, test_procedure6, recuerdo13, test_procedure6b, recuerdo14, test_procedure6c, recuerdo15]}


    var panas_instrucciones = {
        type: jsPsychHtmlButtonResponse,
        stimulus: `
          <p><strong>PANAS</strong></p>`+
          `
          <p>Utilizando la escala de respuesta propuesta a continuación, señala con qué intensidad
          experimentas en <strong>general</strong> las siguientes emociones en este momento.</p>`+
          "                     <br>" +
         "<p> A continuación debe seleccionar la opcion con la cual se siente mas identificado. </p>"
          ,
        choices: ['Continuar'],
        data: {interaction_data: get_interaction_data()
    },
        on_finish: function(data) {
		data.task = "instrucciones";
	}
      }

var panas= {
  type: jsPsychSurveyMultiChoice,
  questions: [
    {
      prompt: "Interesado/a", 
      name: 'Interesado/a',
      stimulus:'Interesado/a',
      options: ["Muy poco o nada", "Un poco", "Medianamente", "Bastante", "Mucho o totalmente"], 
      required: true,
      save_trial_parameters:{rt:true,response:true,question_order:true}
    }],
    data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "PANAS"
    data.item="1";}};

    var panas1= {
  type: jsPsychSurveyMultiChoice,
  questions: [
    {
      prompt: "Afligido/a, triste", 
      name: 'Afligido/a, triste', 
      options: ["Muy poco o nada", "Un poco", "Medianamente", "Bastante", "Mucho o totalmente"], 
      required: true,
      save_trial_parameters:{rt:true,response:true,question_order:true},
    }],data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "PANAS"
    data.item ="2";}};

    var panas2= {
    type: jsPsychSurveyMultiChoice,
    questions: [
      { 
      prompt: "Disgustado/a", 
      name: 'Disgustado/a', 
      options: ["Muy poco o nada", "Un poco", "Medianamente", "Bastante", "Mucho o totalmente"], 
      required: true,
      save_trial_parameters:{rt:true,response:true,question_order:true}
    }],data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "PANAS"
    data.item ="3";}};

panas3={ 
  type: jsPsychSurveyMultiChoice,
  questions: [
    {
      prompt: "Fuerte", 
      name: 'Fuerte', 
      options: ["Muy poco o nada", "Un poco", "Medianamente", "Bastante", "Mucho o totalmente"], 
      required: true, 
      save_trial_parameters:{rt:true,response:true,question_order:true}
    }],data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "PANAS"
    data.item ="4";}};
    
    panas4={ 
  type: jsPsychSurveyMultiChoice,
  questions: [
    {
      prompt: "Culpable", 
      name: 'Culpable', 
      options: ["Muy poco o nada", "Un poco", "Medianamente", "Bastante", "Mucho o totalmente"], 
      required: true, 
      save_trial_parameters:{rt:true,response:true,question_order:true}
    }],data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "PANAS"
    data.item ="5";}};

    panas5={ 
  type: jsPsychSurveyMultiChoice,
  questions: [
    { 
      prompt: "Asustado/a", 
      name: 'Asustado/a', 
      options: ["Muy poco o nada", "Un poco", "Medianamente", "Bastante", "Mucho o totalmente"], 
      required: true,
      save_trial_parameters:{rt:true,response:true,question_order:true}

    }],data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "PANAS"
    data.item ="6";}};

panas6={ 
  type: jsPsychSurveyMultiChoice,
  questions: [
    {
      prompt: "Hostil, enojado/a", 
      name: 'Hostil, enojado/a', 
      options: ["Muy poco o nada", "Un poco", "Medianamente", "Bastante", "Mucho o totalmente"], 
      required: true,
      save_trial_parameters:{rt:true,response:true,question_order:true}
    }],
    data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "PANAS"
    data.item ="7";}};
    
    panas7={ 
  type: jsPsychSurveyMultiChoice,
  questions: [
    {
      prompt: "Entusiasmado/a", 
      name: 'Entusiasmado/a', 
      options: ["Muy poco o nada", "Un poco", "Medianamente", "Bastante", "Mucho o totalmente"], 
      required: true,
      save_trial_parameters:{rt:true,response:true,question_order:true}
    }],
    data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "PANAS"
    data.item ="8";}};

    panas8={ 
  type: jsPsychSurveyMultiChoice,
  questions: [
    { prompt: "Orgulloso/a", 
      name: 'Orgulloso/a', 
      options: ["Muy poco o nada", "Un poco", "Medianamente", "Bastante", "Mucho o totalmente"], 
      required: true,
      save_trial_parameters:{rt:true,response:true,question_order:true}
    }],data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "PANAS"
    data.item ="9";}};

    panas9={ 
  type: jsPsychSurveyMultiChoice,
  questions: [
    {
      prompt: "Irritable", 
      name: 'Irritable', 
      options: ["Muy poco o nada", "Un poco", "Medianamente", "Bastante", "Mucho o totalmente"], 
      required: true,
      save_trial_parameters:{rt:true,response:true,question_order:true}
    }],data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "PANAS"
    data.item ="10";}};

    panas10={ 
  type: jsPsychSurveyMultiChoice,
  questions: [
    {
      prompt: "Avergonzado/a", 
      name: 'Avergonzado/a', 
      options: ["Muy poco o nada", "Un poco", "Medianamente", "Bastante", "Mucho o totalmente"], 
      required: true,
      save_trial_parameters:{rt:true,response:true,question_order:true}
    }],
    data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "PANAS"
    data.item ="11";}};

    panas11={ 
  type: jsPsychSurveyMultiChoice,
  questions: [
    { prompt: "Inspirado/a", 
      name: 'Inspirado/a', 
      options: ["Muy poco o nada", "Un poco", "Medianamente", "Bastante", "Mucho o totalmente"], 
      required: true,
      save_trial_parameters:{rt:true,response:true,question_order:true}
    }],
    data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "PANAS"
    data.item ="12";}};

panas12={ 
  type: jsPsychSurveyMultiChoice,
  questions: [
    {
      prompt: "Nervioso/a", 
      name: 'Nervioso/a', 
      options: ["Muy poco o nada", "Un poco", "Medianamente", "Bastante", "Mucho o totalmente"], 
      required: true,
      save_trial_parameters:{rt:true,response:true,question_order:true}
    }],
    data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "PANAS"
    data.item ="13";}};

    panas13={ 
  type: jsPsychSurveyMultiChoice,
  questions: [
    {
      prompt: "Decidido/a", 
      name: 'Decidido/a', 
      options: ["Muy poco o nada", "Un poco", "Medianamente", "Bastante", "Mucho o totalmente"], 
      required: true,
      save_trial_parameters:{rt:true,response:true,question_order:true}
    }],
    data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "PANAS"
    data.item ="14";}};

    panas14={ 
  type: jsPsychSurveyMultiChoice,
  questions: [
    { 
      prompt: "Atento/a", 
      name: 'Atento/a', 
      options: ["Muy poco o nada", "Un poco", "Medianamente", "Bastante", "Mucho o totalmente"], 
      required: true,
      save_trial_parameters:{rt:true,response:true,question_order:true}
    }],
    data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "PANAS"
    data.item ="15";}};

panas15={ 
  type: jsPsychSurveyMultiChoice,
  questions: [
    {
      prompt: "Intranquilo/a", 
      name: 'Intranquilo/a', 
      options: ["Muy poco o nada", "Un poco", "Medianamente", "Bastante", "Mucho o totalmente"], 
      required: true,
      save_trial_parameters:{rt:true,response:true,question_order:true}
    }],data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "PANAS"
    data.item ="16";}};

    panas16={ 
  type: jsPsychSurveyMultiChoice,
  questions: [
    {
      prompt: "Activo/a", 
      name: 'Activo/a', 
      options: ["Muy poco o nada", "Un poco", "Medianamente", "Bastante", "Mucho o totalmente"], 
      required: true,
      save_trial_parameters:{rt:true,response:true,question_order:true}
    }],data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "PANAS"
    data.item ="17";}};

    panas17={ 
  type: jsPsychSurveyMultiChoice,
  questions: [
    { prompt: "Temeroso/a", 
      name: 'Temeroso/a', 
      options: ["Muy poco o nada", "Un poco", "Medianamente", "Bastante", "Mucho o totalmente"], 
      required: true,
      save_trial_parameters:{rt:true,response:true,question_order:true}
    }],data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "PANAS"
    data.item ="18";}};

  var panas_total= {timeline:[panas_instrucciones,panas,panas1,panas2,panas3,panas4,panas5,panas6,panas7,panas8,panas9,panas10,panas11,panas12,panas13,panas14,panas15,panas16,panas17]};


q_ejemplo={
  type: jsPsychSurveyMultiChoice,
  questions: [
    {
      prompt: "Este es un ejemplo de las preguntas sobre el video que van a aparecer al final de ver <strong>todo</strong> el video (no hace falta que responda):"+"<br> <br>" +"Marque la pregunta que se contestaría con la idea más importante del video que acaba de ver:",
      name:"Marque la pregunta que se contestaría con la idea más importante del video que acaba de ver:",
      options: ["a. ¿Cuál es el concepto de átomo en los comienzos de la investigación en física nuclear y atómica?","b. ¿Cuáles son los aportes de Fermi y Bose al estudio de las partículas elementales en el modelo atómico actual?" ,
      "c. ¿Cuáles son las partículas elementales y fuerzas en la conformación de los niveles de la materia?"],
      requiered:false
    }],data: {interaction_data: get_interaction_data()
    }, 
    on_finish: function(data) {
		data.task = "entrenamiento";}};

q1={ 
  type: jsPsychSurveyMultiChoice,
  questions: [
    {
      prompt: "Marque la pregunta que se contestaría con la idea más importante del video que acaba de ver:", 
      name: 'Marque la pregunta que se contestaría con la idea más importante del video que acaba de ver:', 
      options: ["a. ¿Cuáles son los aportes de los diferentes telescopios a la investigación astronómica?","b. ¿Cuál fue el aporte de Galileo al conocimiento astronómico?","c. ¿Para qué se han utilizado los telescopios ópticos en la investigación en Astronomía?"], 
      required: true,
      save_trial_parameters:{rt:true,response:true,question_order:true}
    }], data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "comprensión"
    data.item ="1";}};

    q2={
    type: jsPsychSurveyMultiChoice,
    questions: [
    {
      prompt: "En el telescopio óptico, cuando la luz del objeto llega al foco es convertida en…", 
      name: 'En el telescopio óptico, cuando la luz del objeto llega al foco es convertida en…', 
      options: ["a. energía eléctrica", "b. imagen amplificada", "c. radiación","d. espejos"], 
      required: true,
      save_trial_parameters:{rt:true,response:true,question_order:true}
    }], data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "comprensión"
    data.item ="2";}};

    q3={ 
    type: jsPsychSurveyMultiChoice,
    questions: [
    { prompt: "Los telescopios se desarrollaron en base a los mismos principios que…", 
      name: "Los telescopios se desarrollaron en base a los mismos principios que…", 
      options: ["a. los cuerpos celestes", "b. la radiación", "c. los anteojos","d. la oposición a la Iglesia"], 
      required: true,
      save_trial_parameters:{rt:true,response:true,question_order:true}
    }], 
    data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "comprensión"
    data.item ="3";}}
 
q4={ 
  type: jsPsychSurveyMultiChoice,
  questions: [
    {
      prompt: "En sus investigaciones, Galileo...", 
      name: 'En sus investigaciones, Galileo...', 
      options: ["a. observó los cuerpos celestes sin telescopio","b. nunca llegó construir y utilizar un telescopio","c. se construyó un telescopio para observar el cielo",
      "d. estudió al cielo siguiendo los mandatos de la Iglesia"], 
      required: true,
      save_trial_parameters:{rt:true,response:true,question_order:true}
    }],data: {interaction_data: get_interaction_data()
    },
     on_finish: function(data) {
		data.task = "comprensión"
    data.item="4";}}

    q5={ 
  type: jsPsychSurveyMultiChoice,
  questions: [ 
    {
      prompt: "La radioastronomía…", 
      name: 'La radioastronomía…', 
      options: ["a. superó a la óptica, de modo que ya no se necesitan telescopios ópticos", "b. se basa en el espectro óptico visible al ojo humano", "c. se basa en los principios de los anteojos y los espejos",
      "d. complementa la información del espectro visible con el análisis de la radiación"], 
      required: true,
      save_trial_parameters:{rt:true,response:true,question_order:true}
    }], data: {interaction_data: get_interaction_data()
    },
    on_finish: function(data) {
		data.task = "comprensión"
    data.item="5";}};

    q6={ 
  type: jsPsychSurveyMultiChoice,
  questions: [
    { prompt: "La información que se mide por telescopios ópticos y radiotelescopios…", 
      name: 'La información que se mide por telescopios ópticos y radiotelescopios…', 
      options: ["a. difiere en su longitud de onda", "b. se capta por una combinación de espejos, lentes y sistemas de posicionamiento", "c. difiere en el tamaño y el costo de los aparatos necesarios",
      "d. se capta por interferometría"], 
      required: true,
      save_trial_parameters:{rt:true,response:true,question_order:true}}],
      data: {interaction_data: get_interaction_data()
    },
      on_finish: function(data) {
		data.task = "comprensión"
    data.item="6";}};

q7={ 
  type: jsPsychSurveyMultiChoice,
  questions: [
    {
      prompt: "La composición química de los cuerpos celestes se estudia …", 
      name: 'La composición química de los cuerpos celestes se estudia …', 
      options: ["a. a partir de telescopios ópticos que miden la radiación", "b. con el Very Large Telescope en Paranal, Chile", "c. a partir de los rayos infrarrojos, X, o gamma, emitidos por ellos", 
      "d. mediante el telescopio óptico inventado por Galileo, entre otros métodos"], 
      required: true,
      save_trial_parameters:{rt:true,response:true,question_order:true}
    }],
    data: {interaction_data: get_interaction_data()}, 
    on_finish: function(data) {
		data.task = "comprensión"
    data.item ="7";}};
    
    q8={ 
  type: jsPsychSurveyMultiChoice,
  questions: [
    {
      prompt: "El Very Large Telescope de Chile…", 
      name: 'El Very Large Telescope de Chile…', 
      options: ["a. es un solo telescopio independiente, por si solo el más grande de la Tierra", "b. está conformado por un grupo de telescopios ópticos", "c. está conformado por un grupo de radiotelescopios",
      "d. ha contribuido a develar el origen del Universo, por medio de la observación del Big Bang"], 
      required: true,
      save_trial_parameters:{rt:true,response:true,question_order:true}
    }],
    data: {interaction_data: get_interaction_data()},
     on_finish: function(data) {
		data.task = "comprensión"
    data.item="8";}};

    q9={ 
  type: jsPsychSurveyMultiChoice,
  questions: [
    { prompt: "Con el desarrollo de la astronáutica se logró poner en órbita satélites que transportasen telescopios y permitiesen realizar observaciones durante un período más largo de tiempo y fuera de la atmósfera para obtener una vista más clara del universo.” <br> Esta parte del texto se refiere a…", 
      name: 'Con el desarrollo de la astronáutica se logró poner en órbita satélites que transportasen telescopios y permitiesen realizar observaciones durante un período más largo de tiempo y fuera de la atmósfera para obtener una vista más clara del universo.” <br>Esta parte del texto se refiere a…', 
      options: ["a. Radio-interferometría", "b. Telescopios ópticos", "c. Very Large Telescope", 
      "d. Radiotelescopios"], 
      required: true,
      save_trial_parameters:{rt:true,response:true,question_order:true}
    }],
    data: {interaction_data: get_interaction_data()},
     on_finish: function(data) {
		data.task = "comprensión"
    data.item ="9";}};

q10={ 
  type: jsPsychSurveyMultiChoice,
  questions: [
    {
      prompt: "Marque la frase que represente mejor al texto que acaba de leer, o al video que acaba de ver", 
      name: "Marque la frase que represente mejor al texto que acaba de leer, o al video que acaba de ver", 
      options: ["a. Los telescopios ópticos en Astronomía", "b. Aportes de los telescopios ópticos y radiotelescopios a la Astronomía", "c. La investigación astronómica: Very Large Telescope y la teoría del Big Bang", 
      "d. Origen histórico y aporte de Galileo al conocimiento en Astronomía"], 
      required: true,
      save_trial_parameters:{rt:true,response:true,question_order:true}
    }],
    data: {interaction_data: get_interaction_data()
    },
     on_finish: function(data) {
		data.task = "comprensión"
    data.item ="10";}};

var comprension= {timeline:[q1,q2,q3,q4,q5,q6,q7,q8,q9,q10]}

var baires_instrucciones= { 
        type: jsPsychHtmlButtonResponse,
        stimulus:`<p><strong>BAIRES</strong></p></p></div><p>Ejercicio de práctica: en el primer tipo de ejercicio deberá marcar ¿Qué frase DEFINE MEJOR LO QUE SIGNIFICA la palabra en mayúscula?<br> Esta es una tarea por tiempo.</p>`,
        choices: ['Haga click para comenzar'],
        data: {interaction_data: get_interaction_data()
    },
        on_finish: function(data) {
		data.task = "instrucciones";
	}
      };
      

var baires = {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "PUGNA"+
            "                     <br>"+
            "                     <br>"+
            '1. Asco o desprecio<br>' +
            '2. Batalla o pelea<br>' +
            '3. Raza de perro <br>' +
            '4. Interponer un recurso judicial<br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock15">15:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 15000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 15 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 15);
                var seconds = Math.floor((time_left - minutes*1000*15)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock15').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock15').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "entrenamiento";
	}
};

var baires_1 = {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "RISUEÑO "+
            "         <br>"+
            "          <br>"+
            '1. Que se ríe con facilidad <br>' +
            '2. Representación fantástica mientras se duerme<br>' +
            '3. Que causa felicidad <br>' +
            '4. Estado de reposo<br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock16">15:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 15000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 15 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 15);
                var seconds = Math.floor((time_left - minutes*1000*15)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock16').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock16').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "entrenamiento";
	}
};

var baires_instrucciones_1= { 
        type: jsPsychHtmlButtonResponse,
        stimulus: `
          <p> Ejercicio de práctica: En el segundo tipo de ejercicio deberá marcar ¿Qué palabra tiene el SIGNIFICADO MÁS PARECIDO a la palabra en mayúscula?</p>
        `,
        choices: ['Haga click para comenzar'],
        data: {interaction_data: get_interaction_data()
    },
        on_finish: function(data) {
		data.task = "entrenamiento";
	}
  
};

var baires_2 = {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "AZAR"+
            "         <br>"+
            "          <br>"+
            '1. Azahar <br>' +
            '2. Asma<br>' +
            '3. Casualidad <br>' +
            '4. Causa<br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock17">12:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 12000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 12 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 12);
                var seconds = Math.floor((time_left - minutes*1000*12)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock17').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock17').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },
  data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "entrenamiento";
	}
};

var baires_3 = {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "PELO"+
            "         <br>"+
            "          <br>"+
            '1. Pelmazo <br>' +
            '2. Bello<br>' +
            '3. Cabello <br>' +
            '4. Cabeza<br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock18">12:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 12000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 12 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 12);
                var seconds = Math.floor((time_left - minutes*1000*12)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock18').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock18').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "entrenamiento";
	}
};

var baires_instrucciones_2= { 
        type: jsPsychHtmlButtonResponse,
        stimulus: '<p style="text-align: left;">' +
            "Esa fue la práctica ahora inicia la prueba, a continuación se dará las consignas"+
            "<p>Recomendamos que se encuentre en un ambiente tranquilo y sin interrupciones </p> "
            +

            '</p>',
        choices: ['Siguiente'],
        data: {interaction_data: get_interaction_data()
    },
        on_finish: function(data) {
		data.task = "instrucciones";
	}
  
};

var baires_instrucciones_3= { 
        type: jsPsychHtmlButtonResponse,
        stimulus: '<p style="text-align: left;">' +
            "En los siguientes ejercicios ¿Qué frase DEFINE MEJOR LO QUE SIGNIFICA la palabra en mayúscula? <br> <br>  Recuerde que esta es una tarea por tiempo."+

            '</p>',
        choices: ['Haga click para comenzar'],
        data: {interaction_data: get_interaction_data()
    },
        on_finish: function(data) {
		data.task = "instrucciones";
	}
  
};
var baires_4 = {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "ABSTINENCIA"+
            "         <br>"+
            "          <br>"+
            '1. Negación a hablar en público <br>' +
            '2. Resistencia a establecer amistades<br>' +
            '3. Rechazo a la intervención en política <br>' +
            '4. Privación del consumo de bebidas y alimentos<br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock19">15:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 15000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 15 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock19').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock19').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },
  data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "baires1"
    data.item= "1";
	}
};

var baires_5 = {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "MORATORIA"+
            "         <br>"+
            "          <br>"+
            '1. Plazo concedido para el pago de una deuda <br>' +
            '2. Tardanza en llegar<br>' +
            '3. Clase de bebida<br>' +
            '4. Dulce de moras<br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock20">15:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 15000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 15 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock20').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock20').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "baires1"
    data.item= "2";
	}
};

var baires_6 = {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "HUMILLAR"+
            "         <br>"+
            "          <br>"+
            '1. Sensibilizarse con otros <br>' +
            '2. Humedecer algo<br>' +
            '3. Rebajar a una persona con una afrenta<br>' +
            '4. Criticar a los demás<br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock21">15:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 15000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 15 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock21').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock21').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "baires1"
    data.item= "3";
	}
  
};


var baires_7 = {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "ANÁLISIS"+
            "         <br>"+
            "          <br>"+
            '1. División en dos mitades <br>' +
            '2. Separación de las partes de una todo para examinar los elementos<br>' +
            '3. Método para solucionar problemas de todo tipo<br>' +
            '4. Unión de las partes de un todo para su resumen<br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock22">15:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 15000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 15 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock22').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock22').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "baires1"
    data.item= "4";
	}
};

var baires_8 = {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "ELOGIO"+
            "         <br>"+
            "          <br>"+
            '1. Respuesta lógica<br>' +
            '2. Estado de intensa alegría<br>' +
            '3. Testimonio de los méritos de alguien<br>' +
            '4. Elocuencia en el habla<br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock23">15:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 15000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 15 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock23').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock23').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "baires1"
    data.item= "5";
	}
};

var baires_9 = {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "UTOPÍA"+
            "         <br>"+
            "          <br>"+
            '1. Plan proyectado o ficción ideal pero irrealizable<br>' +
            '2. Argumento sostenido por los filósofos<br>' +
            '3. Clase de equilibrio de los líquidos<br>' +
            '4. Idea irracional y paranoica<br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock24">15:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 15000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 15 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock24').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock24').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "baires1"
    data.item= "6";
	}
};
var baires_10 = {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "OPINIÓN"+
            "         <br>"+
            "          <br>"+
            '1. Idea que emiten los sabios<br>' +
            '2. Reflexión verdadera<br>' +
            '3. Juicio formado sobre cosas cuestionables<br>' +
            '4. Pensamiento logico verdadero<br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock25">15:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 15000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 15 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock25').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock25').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "baires1"
    data.item= "7";
	}
};

var baires_11 = {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "SÍNTESIS"+
            "         <br>"+
            "          <br>"+
            '1. Estudio de las partes de un todo<br>' +
            '2. Comunicación breve<br>' +
            '3. División en pequeños fragmentos<br>' +
            '4. Reunión resumida de las partes de un todo<br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock26">15:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 15000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 15 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock26').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock26').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "baires1"
    data.item= "8";
	}
};
var baires_12 = {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "ALBEDRÍO"+
            "         <br>"+
            "          <br>"+
            '1. Actuación contra la voluntad de otros<br>' +
            '2. Uso de la fuerza para lograr algo <br>' +
            '3. Potestad de obrar por reflexión y elección<br>' +
            '4. Defensa de la verdad<br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock27">15:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 15000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 15 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock27').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock27').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "baires1"
    data.item= "9";
	}
};

var baires_13 = {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "CONTRADICCIÓN"+
            "         <br>"+
            "          <br>"+
            '1. Hecho contrario a la ley<br>' +
            '2. Oposición entre una afirmación y una negación que se destruyen mutuamente <br>' +
            '3. Contrapunto de muchas opiniones<br>' +
            '4. Negación de todo por principio<br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock28">15:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 15000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 15 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock28').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock28').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  }, data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "baires1"
    data.item= "10";
	}
};

var baires_14 = {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "MITO"+
            "         <br>"+
            "          <br>"+
            '1. Meta a la que se llega<br>' +
            '2. Relato antiguo histórico<br>' +
            '3. Fobia de los maníacos<br>' +
            '4. Fábula o leyenda que simboliza aspectos del ser humano<br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock29">15:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 15000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 15 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock29').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock29').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "baires1"
    data.item= "11";
	}
};

var baires_15 = {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "ONEROSO"+
            "         <br>"+
            "          <br>"+
            '1. Dícese de alguien muy generos<br>' +
            '2. Dícese de una plaga o epidemia<br>' +
            '3. Dícese de alguien que vive muy alejado<br>' +
            '4. Dícese de aquello que resulta caro, molesto y gravoso<br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock30">15:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 15000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 15 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock30').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock30').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "baires1"
    data.item= "12";
	}
};

var baires_16 = {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "AFORISMO"+
            "         <br>"+
            "          <br>"+
            '1. Caída prematura de los cabellos<br>' +
            '2. Sentencia breve y doctrinal<br>' +
            '3. Epíteto no reproducible<br>' +
            '4. Prohibición para entrar en un cenáculo<br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock31">15:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 15000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 15 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock31').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock31').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "baires1"
    data.item= "13";
	}
};

var baires_17 = {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "DIÓCESIS"+
            "         <br>"+
            "          <br>"+
            '1. Lugar donde se va a rezar<br>' +
            '2. Territorio en el que ejerce jurisdicción espiritual un prelado<br>' +
            '3. Conjunto de viviendas familiares<br>' +
            '4. Signo ortográfico de los diptongos<br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock32">15:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 15000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 15 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock32').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock32').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "baires1"
    data.item= "14";
	}
};

var baires_18 = {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "MELÓMANO"+
            "         <br>"+
            "          <br>"+
            '1. Persona que gusta de las cosas dulces<br>' +
            '2. Persona con gran afición a la música<br>' +
            '3. Persona aficionada a comer melones<br>' +
            '4. Persona que padece una clase de locura<br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock33">15:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 15000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 15 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock33').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock33').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "baires1"
    data.item= "15";
	}
};

var baires_19 = {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "CAPITEL"+
            "         <br>"+
            "          <br>"+
            '1. Capital bancario<br>' +
            '2. Coronamiento de una columna<br>' +
            '3. Carga de un barco<br>' +
            '4. Consecuencia de un negocio<br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock34">15:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 15000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 15 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock34').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock34').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "baires1"
    data.item= "16";
	}
};

var baires_20 = {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "ACIAGO"+
            "         <br>"+
            "          <br>"+
            '1. Dícese de un tipo de voz<br>' +
            '2. Dícese de un hecho infausto, infeliz, desgraciado<br>' +
            '3. Dícese de un hecho vergonzoso<br>' +
            '4. Dícese de una persona que ha perdido la vista<br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock35">15:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 15000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 15 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock35').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock35').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "baires1"
    data.item= "17";
	}
};

var baires_instrucciones_5= { 
        type: jsPsychHtmlButtonResponse,
        stimulus: '<p style="text-align: left;">' +
            "En los siguientes ejercicios ¿Qué palabra tiene el SIGNIFICADO MÁS PARECIDO a la palabra en mayúscula?"+ 
            
            "<p> Recuerde que esta es una prueba por tiempo </p> " +'</p>',
        choices: ['Haga click para comenzar'],
        data: {interaction_data: get_interaction_data()
    },
        on_finish: function(data) {
		data.task = "instrucciones";
	}
        };


var baires_21 = {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "DIFERIR"+
            "         <br>"+
            "          <br>"+
            '1. Componer<br>' +
            '2. Retrasar<br>' +
            '3. Señalar<br>' +
            '4. Incluir<br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock36">12:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 12000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 12 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock36').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock36').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "baires2"
    data.item= "18";
	}
};

var baires_22 = {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "ENREDO"+
            "         <br>"+
            "          <br>"+
            '1. Rebaja <br>' +
            '2. Envase <br>' +
            '3. Maraña <br>' +
            '4. Historia <br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock37">12:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 12000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 12 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock37').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock37').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "baires2"
    data.item= "19";
	}
};

var baires_23 = {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "SISMO"+
            "         <br>"+
            "          <br>"+
            '1. Silogismo <br>' +
            '2. Terremoto  <br>' +
            '3. Sistema <br>' +
            '4. Meteoro <br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock38">12:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 12000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 12 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock38').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock38').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "baires2"
    data.item= "20";
	}
};

var baires_24 = {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "CONCERTAR"+
            "         <br>"+
            "          <br>"+
            '1. Confirmar <br>' +
            '2. Concordar  <br>' +
            '3. Conferir <br>' +
            '4. Comprobar <br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock39">12:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 12000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 12 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock39').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock39').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "baires2"
    data.item= "21";
	}
};

var baires_25 = {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "ARDID"+
            "         <br>"+
            "          <br>"+
            '1. Treta <br>' +
            '2. Riña  <br>' +
            '3. Pizca <br>' +
            '4. Apice <br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock40">12:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 12000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 12 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock40').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock40').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "baires2"
    data.item= "22";
	}
};

var baires_26={
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "DESCOLLAR"+
            "         <br>"+
            "          <br>"+
            '1. Integrar <br>' +
            '2. Sobresalir  <br>' +
            '3. Navegar <br>' +
            '4. Desbrochar <br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock41">12:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 12000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 12 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock41').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock41').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "baires2"
    data.item= "23";
	}
};

var baires_27= {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "PARÁBOLA"+
            "         <br>"+
            "          <br>"+
            '1. Rezo <br>' +
            '2. Antena  <br>' +
            '3. Vehículo <br>' +
            '4. Comparación <br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock42">12:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 12000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 12 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock42').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock42').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "baires2"
    data.item= "24";
	}
};

var baires_28= {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "PÁRAMO"+
            "         <br>"+
            "          <br>"+
            '1. Bosque <br>' +
            '2. Desierto  <br>' +
            '3. Montaña <br>' +
            '4. Laguna <br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock43">12:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 12000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 12 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock43').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock43').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "baires2"
    data.item= "25";
	}
};

var baires_29= {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "INQUINA"+
            "         <br>"+
            "          <br>"+
            '1. Vergüenza <br>' +
            '2. Odio  <br>' +
            '3. Mezquinidad <br>' +
            '4. Alegría <br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock44">12:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 12000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 12 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock44').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock44').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "baires2"
    data.item= "26";
	}
};

var baires_30= {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "ARCANO"+
            "         <br>"+
            "          <br>"+
            '1. Apodo <br>' +
            '2. Mullido <br>' +
            '3. Distinguido <br>' +
            '4. Secreto <br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock45">12:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 12000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 12 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock45').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock45').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "baires2"
    data.item= "27";
	}
};

var baires_31= {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "BASTIÓN"+
            "         <br>"+
            "          <br>"+
            '1. Regimiento <br>' +
            '2. Fortaleza <br>' +
            '3. Colega <br>' +
            '4. Consorcio <br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock46">12:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 12000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 12 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock46').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock46').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "baires2"
    data.item= "28";
	}
};

var baires_32 = {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "DIÁFANO"+
            "         <br>"+
            "          <br>"+
            '1. Opaco <br>' +
            '2. Costoso  <br>' +
            '3. Luminoso <br>' +
            '4. Híbrido <br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock47">12:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 12000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 12 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock47').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock47').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "baires2"
    data.item= "29";
	}
};

var baires_33= {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "SOLÍCITO"+
            "         <br>"+
            "          <br>"+
            '1. Diligente <br>' +
            '2. Atrevido  <br>' +
            '3. Lento <br>' +
            '4. Poderoso <br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock48">12:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 12000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 12 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock48').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock48').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "baires2"
    data.item= "30";
	}
};

var baires_34=
{
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "AURORA"+
            "         <br>"+
            "          <br>"+
            '1. Brillo <br>' +
            '2. Alba  <br>' +
            '3. Rocío <br>' +
            '4. Cielo <br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock49">12:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 12000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 12 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock49').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock49').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "baires2"
    data.item= "31";
	}
};

var baires_35=
{
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "CONFERIR"+
            "         <br>"+
            "          <br>"+
            '1. Comportar <br>' +
            '2. Conceder  <br>' +
            '3. Convocar <br>' +
            '4. Contraer <br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock50">12:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 12000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 12 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock50').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock50').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "baires2"
    data.item= "32";
	}
};

var baires_36 = {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "EFEBO"+
            "         <br>"+
            "          <br>"+
            '1. Efímero <br>' +
            '2. Ególatra  <br>' +
            '3. Adolescente <br>' +
            '4. Tierno <br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock51">12:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 12000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 12 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock51').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock51').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "baires2"
    data.item= "33";
	}
};

var baires_37= {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p style="text-align: left;">' +
            "BAJEL"+
            "         <br>"+
            "          <br>"+
            '1. Fábula <br>' +
            '2. Fatiga  <br>' +
            '3. Aval <br>' +
            '4. Barco <br>' +
            "                     <br>"+
            "                     <br>"+
            'Su tiempo de respuesta es: <span id="clock52">12:00</span>' +
            '</p>',
  choices: [1, 2, 3, 4],
  trial_duration: 12000,
  save_trial_parameters:{rt:true,response:true,stimulus:true},
  on_load: function(){
            var wait_time = 1 * 12 * 1000; // in milliseconds
            var start_time = performance.now();
            document.querySelector('button').disabled = false;
            var interval = setInterval(function(){
                var time_left = wait_time - (performance.now() - start_time);
                var minutes = Math.floor(time_left / 1000 / 30);
                var seconds = Math.floor((time_left - minutes*1000*30)/1000);
                var seconds_str = seconds.toString().padStart(2,'0');
                document.querySelector('#clock52').innerHTML = minutes + ':' + seconds_str
                if(time_left <= 0){
                    document.querySelector('#clock52').innerHTML = "0:00";
                   // document.querySelector('button').disabled = true;
                    clearInterval(interval);
      }
    }, 250)
  },data: {interaction_data: get_interaction_data()
    },
  on_finish: function(data) {
		data.task = "baires2"
    data.item= "34";
	}
};

var baires_total={ timeline:[baires_instrucciones,baires, baires_1, baires_instrucciones_1,baires_2, baires_3, baires_instrucciones_2, baires_instrucciones_3, baires_4, baires_5, baires_6, baires_7, baires_8, baires_9, baires_10,baires_11, baires_12,  baires_13,  baires_14, baires_15,  baires_16,  baires_17,  baires_18,  baires_19,  baires_20,  baires_instrucciones_5,  baires_20,  baires_21,  baires_22,  baires_23, baires_24,  baires_25,  baires_26, baires_27,  baires_28,  baires_29,  baires_30,  baires_31,  baires_32, baires_33, baires_34, baires_35, baires_36,baires_37]}

var descanso= { 
        type: jsPsychHtmlButtonResponse,
        stimulus: '<p style="text-align: left;">' +
            "Puede tomarse 5 minutos para descansar si lo desea, sino haga click en el botón para continuar."+ 
            
            '</p>',
        choices: ['Continuar'],
        data: {interaction_data: get_interaction_data()
    },
        on_finish: function(data) {
		data.task = "descanso";
	}
        };

var conocimiento_previo = {
            type: jsPsychHtmlButtonResponse,
            stimulus: `
          <p>Por favor, puntuá las siguientes afirmaciones de acuerdo a lo que creas que es correcto sobre vos mismo. Considerando que las puntuaciones van de 1: absolutamente no a 5: mucho</p>`
          ,
          choices: ['Continuar'],
          on_finish: function(data) {
		      data.task = "instrucciones";}
        };

var conocimiento_scale = [
  "<br> 1 <br> <br> Absolutamente no",  
  "<br> 2", 
  "<br> 3", 
  "<br> 4", 
  "<br> 5 <br> <br>  Mucho"
];

var conocimiento1 = {
  type: jsPsychSurveyLikert,
  questions: [
    {
      prompt: "Tengo conocimiento sobre el impacto económico de la energía solar.", name: "Tengo conocimiento sobre el impacto económico de la energía solar.", labels: conocimiento_scale.map(label => `<span class="custom-label">${label}</span>`)
    }],
    on_finish:function(data) {
		data.task = "Conocimiento"
    data.item="1";
	}
};

  var conocimiento2 = {
  type: jsPsychSurveyLikert,
  questions: [
    {prompt: "He leído o he visto videos sobre el impacto económico de la energía solar.", name: 'He leído o he visto videos sobre el impacto económico de la energía solar.', labels: conocimiento_scale.map(label => `<span class="custom-label">${label}</span>`)
  }],
  on_finish:function(data) {
		data.task = "Conocimiento",
    data.item="2";
	}
};

var conocimiento3 = {
  type: jsPsychSurveyLikert,
  questions: [
    {prompt: "He discutido sobre el impacto económico de la energía solar", name: 'He discutido sobre el impacto económico de la energía solar', labels: conocimiento_scale.map(label => `<span class="custom-label">${label}</span>`)
  } 
  ],
  on_finish:function(data) {
		data.task = "Conocimiento",
    data.item="3";
	}
};

var conocimiento= {timeline:[conocimiento_previo,conocimiento1,conocimiento2,conocimiento3]}

const subject_id = jsPsych.randomization.randomID(10);
              const filename = `${subject_id}.csv`;

            
              const save_data = {
                type: jsPsychPipe,
                action: "save",
                experiment_id: "qqttRkYQySv9",
                filename: filename,
                data_string: ()=>jsPsych.data.get().csv()
 
              };

var endTime = new Date();
endTime.setHours(endTime.getHours() - 3);  // Resta 3 horas para Argentina 
var endTimeString = endTime.toISOString();

var pre_fin= {
            type:jsPsychInstructions,
            pages:[`<p> Estamos proximos a finalizar. <br>
                    Toque ENTER para continuar.
              </p>`
            ],
                show_clickable_nav: false,
                key_forward : "Enter",
                data: {interaction_data: get_interaction_data()},
                on_finish: function(data) {
                 jsPsych.data.addProperties({ end_time: endTimeString });
		      data.task = "instrucciones";
	}
            };

            var fin= {
            type:jsPsychInstructions,
            pages:[`<p> Hemos finalizado. <br>
                    Toque ENTER para salir.
              </p>`
            ],
                show_clickable_nav: false,
                key_forward : "Enter",
                data: {interaction_data: get_interaction_data()
    },
                on_finish: function(data) {
		      data.task = "instrucciones";
	}
            };

//RT = The response time in milliseconds for the participant to make a response. The time is measured from when the stimulus first appears on the screen until the participant's response.
// el orden era panas5, preload, camera_instructions,instrucciones_camara,  init_camera, calibration_instructions, calibration,  validation_instructions, validation, recalibrate,calibration_done, begin, instrucciones_1,
//saco de camera_instructions hasta begin

jsPsych.run([ trial_inicio_1,aviso,get_participant_id,inicio,stroop_task,
        fullscreen_trial, flanker_task, simon_task,descanso,baires_total,descanso,running_span,descanso,
        panas_total,conocimiento, instrucciones_1,instrucciones_2,instrucciones_3,
        ejemplo_video,mw_prueba,ejemplo_preguntas,q_ejemplo,instrucciones_4,trial_1,mw,pregunta1,trial_2,
        mw,pregunta2,trial_3,mw,pregunta3,trial_4,mw,pregunta4,trial_5,mw,pregunta5,panas_total,
        comprension,pre_fin, save_data,fin,exit_fullscreen
      ]);


  };

  </script>
</html>
